(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.HeroCalc = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";var ko=require("./herocalc_knockout"),abilityData=require("./herocalc_abilitydata"),AbilityModel=function(e,i){var t=this;t.hero=i,t.abilityData=abilityData,t.hasScepter=ko.observable(!1),t.isShapeShiftActive=ko.observable(!1),t.abilities=e,t._abilities=t.abilities();for(var a=0;a<t.abilities().length;a++)t._abilities[a].level=ko.observable(0),t._abilities[a].isActive=ko.observable(!1),t._abilities[a].isDetail=ko.observable(!1),t._abilities[a].baseDamage=ko.observable(0),t._abilities[a].baseDamageReductionPct=ko.observable(0),t._abilities[a].baseDamageMultiplier=ko.observable(0),t._abilities[a].bash=ko.observable(0),t._abilities[a].bashBonusDamage=ko.observable(0),t._abilities[a].bonusDamage=ko.observable(0),t._abilities[a].bonusDamageOrb=ko.observable(0),t._abilities[a].bonusDamagePct=ko.observable(0),t._abilities[a].bonusDamagePrecisionAura=ko.observable(0),t._abilities[a].bonusDamageReduction=ko.observable(0),t._abilities[a].bonusHealth=ko.observable(0),t._abilities[a].bonusStrength=ko.observable(0),t._abilities[a].bonusStrength2=ko.observable(0),t._abilities[a].bonusAgility=ko.observable(0),t._abilities[a].bonusAgility2=ko.observable(0),t._abilities[a].bonusInt=ko.observable(0),t._abilities[a].bonusAllStatsReduction=ko.observable(0),t._abilities[a].damageAmplification=ko.observable(0),t._abilities[a].damageReduction=ko.observable(0),t._abilities[a].evasion=ko.observable(0),t._abilities[a].magicResist=ko.observable(0),t._abilities[a].manaregen=ko.observable(0),t._abilities[a].manaregenreduction=ko.observable(0),t._abilities[a].missChance=ko.observable(0),t._abilities[a].movementSpeedFlat=ko.observable(0),t._abilities[a].movementSpeedPct=ko.observable(0),t._abilities[a].movementSpeedPctReduction=ko.observable(0),t._abilities[a].turnRateReduction=ko.observable(0),t._abilities[a].attackrange=ko.observable(0),t._abilities[a].attackspeed=ko.observable(0),t._abilities[a].attackspeedreduction=ko.observable(0),t._abilities[a].armor=ko.observable(0),t._abilities[a].armorReduction=ko.observable(0),t._abilities[a].healthregen=ko.observable(0),t._abilities[a].lifesteal=ko.observable(0),t._abilities[a].visionnight=ko.observable(0),t._abilities[a].visionday=ko.observable(0);t.abilityControlData={},t.abilitySettingsData=function(e,i,a){return void 0==t.abilityControlData[e]?t.processAbility(e,i,a,t.abilityData[e]):t.abilityControlData[e]},t.processAbility=function(e,i,a,l){var s={};s.data=[];for(var r,n=[],b=0;b<l.length;b++)switch(l[b].controlType){case"input":r=ko.observable(0).extend({numeric:2}),r.controlValueType=l[b].controlValueType,n.push(r),s.data.push({labelName:l[b].label.toUpperCase()+":",controlVal:r,controlType:l[b].controlType,display:l[b].display});break;case"checkbox":r=ko.observable(!1),r.controlValueType=l[b].controlValueType,n.push(r),s.data.push({labelName:l[b].label.toUpperCase()+"?",controlVal:r,controlType:l[b].controlType,display:l[b].display});break;case"radio":r=ko.observable(l[b].controlOptions[0].value),r.controlValueType=l[b].controlValueType,n.push(r),s.data.push({labelName:l[b].label.toUpperCase()+"?",controlVal:r,controlType:l[b].controlType,display:l[b].display,controlOptions:l[b].controlOptions});break;case"method":case"text":if(void 0==l[b].controls){if(l[b].noLevel)var o=function(i){return{fn:ko.computed(function(){var a=t.abilities().find(function(i){return i.name==e});return t.getAbilityAttributeValue(a.attributes,i,0)})}};else var o=function(i){return{fn:ko.computed(function(){var a=t.abilities().find(function(i){return i.name==e});return t.getAbilityAttributeValue(a.attributes,i,a.level())})}};var u=o(l[b].attributeName),_=t.getComputedFunction(r,u.fn,l[b].fn,i,a,t,l[b].returnProperty,void 0,e);if(l[b].ignoreTooltip)var m=l[b].label||l[b].attributeName;else var m=t.getAbilityAttributeTooltip(t.abilities()[a].attributes,l[b].attributeName)||l[b].label||l[b].attributeName;s.data.push({labelName:m.toUpperCase(),controlVal:_,controlType:l[b].controlType,display:l[b].display,clean:u.fn})}else{if(l[b].noLevel)var o=function(e){return{fn:ko.computed(function(){return t.getAbilityAttributeValue(t.abilities()[a].attributes,e,0)})}};else var o=function(e){return{fn:ko.computed(function(){return t.getAbilityAttributeValue(t.abilities()[a].attributes,e,t.abilities()[a].level())})}};var u=o(l[b].attributeName),_=t.getComputedFunction(n,u.fn,l[b].fn,i,a,t,l[b].returnProperty,l[b].controls,e);if(l[b].ignoreTooltip)var m=l[b].label||l[b].attributeName;else var m=t.getAbilityAttributeTooltip(t.abilities()[a].attributes,l[b].attributeName)||l[b].label||l[b].attributeName;s.data.push({labelName:m.toUpperCase(),controlVal:_,controlType:l[b].controlType,display:l[b].display,clean:u.fn})}"method"==l[b].controlType&&n.push(_)}return t.abilityControlData[e]=s,s},t.getComputedFunction=function(e,i,t,a,l,s,r,n,b){var o=s.abilities().find(function(e){return e.name==b});return ko.pureComputed(function(){var b;if(void 0==n)b=void 0==e?e:"boolean"==typeof e()?e():void 0==e.controlValueType?parseFloat(e()):"string"==e.controlValueType?e():parseFloat(e());else{for(var u=[],_=0;_<n.length;_++)switch(typeof e[n[_]]()){case"boolean":case"object":u.push(e[n[_]]());break;default:u.push(parseFloat(e[n[_]]()))}b=u}var m=t.call(this,b,i(),a,l,s,o);return void 0!=r&&o[r](m),m},this)},t.getAbilityLevelByAbilityName=function(e){for(var i=0;i<t.abilities().length;i++)if(t._abilities[i].name==e)return t._abilities[i].level();return-1},t.getAbilityByName=function(e){for(var i=0;i<t.abilities().length;i++)if(t._abilities[i].name==e)return t._abilities[i]},t.getAbilityPropertyValue=function(e,i){return parseFloat(e[i]()[e.level()-1])},t.getAttributeBonusLevel=function(){for(var e=0;e<t.abilities().length;e++)if("attribute_bonus"==t._abilities[e].name)return t._abilities[e].level();return 0},t.getAllStatsReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.bonusAllStatsReduction&&(e+=a.bonusAllStatsReduction());else for(var l=0;l<t._abilities[i].attributes.length;l++){t._abilities[i].attributes[l]}}return e}),t.getStrengthReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.bonusStrength&&"undying_decay"==a.name&&(e-=a.bonusStrength());else for(var l=0;l<t._abilities[i].attributes.length;l++){t._abilities[i].attributes[l]}}return e}),t.getStrength=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0)if(a.name in t.abilityData)void 0!=a.bonusStrength&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1||"invoker_quas"==a.name)&&(e+=a.bonusStrength()),void 0!=a.bonusStrength2&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.bonusStrength2());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var l=0;l<t._abilities[i].attributes.length;l++){t._abilities[i].attributes[l]}}return e}),t.getAgility=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0)if(a.name in t.abilityData)void 0!=a.bonusAgility&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1||"invoker_wex"==a.name)&&(e+=a.bonusAgility()),void 0!=a.bonusAgility2&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.bonusAgility2());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"marksmanship_agility_bonus":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getIntelligence=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0)if(a.name in t.abilityData)void 0!=a.bonusInt&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1||"invoker_exort"==a.name)&&(e+=a.bonusInt());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];s.name}}return e}),t.getArmor=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.armor&&(e+=a.armor());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_armor":"templar_assassin_meld"!=a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"warcry_armor":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"armor_bonus":"lich_frost_armor"!=a.name&&"ogre_magi_frost_armor"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()))}}}return e}),t.getArmorBaseReduction=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))switch(a.name){case"elder_titan_natural_order":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,"armor_reduction_pct",a.level())/100}}return e}),t.getArmorReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.armorReduction&&(e+=a.armorReduction());else switch(a.name){case"templar_assassin_meld":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,"bonus_armor",a.level());break;case"tidehunter_gush":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,"armor_bonus",a.level());break;case"naga_siren_rip_tide":case"slardar_amplify_damage":case"vengefulspirit_wave_of_terror":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,"armor_reduction",a.level());break;case"nevermore_dark_lord":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,"presence_armor_reduction",a.level())}}return e}),t.getHealth=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.bonusHealth&&(e+=a.bonusHealth());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_hp":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"true_form_hp_bonus":t.isTrueFormActive()&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()))}}}return e}),t.isTrueFormActive=function(){for(var e=0;e<t.abilities().length;e++){var i=t._abilities[e];if(i.isActive()&&"lone_druid_true_form"==i.name)return!0}return!1},t.getHealthRegen=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.healthregen&&(e+=a.healthregen());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_health_regen":case"heath_regen":case"health_regen":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"hp_regen":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getMana=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_mana":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getManaRegen=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.manaregen&&(e+=a.manaregen());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_mana_regen":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getManaRegenArcaneAura=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"mana_regen":"crystal_maiden_brilliance_aura"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()))}}}return e}),t.getManaRegenReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&void 0!=a.manaregenreduction&&(e+=a.manaregenreduction())}return e}),t.getAttackRange=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0)if(a.name in t.abilityData)void 0!=a.attackrange&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&(e+=a.attackrange());else if(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1){for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"attack_range_bonus":case"bonus_attack_range":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"bonus_range":"terrorblade_metamorphosis"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())),"troll_warlord_berserkers_rage"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"bonus_range_scepter":"tiny_grow"==a.name&&t.hasScepter()&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"bonus_attack_range_scepter":"enchantress_impetus"==a.name&&t.hasScepter()&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()))}}"lone_druid_true_form"==a.name&&(e-=422)}else if("enchantress_impetus"==a.name&&t.hasScepter())for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_attack_range_scepter":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getAttackSpeed=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.attackspeed&&(e+=a.attackspeed());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"attack_speed":case"attackspeed_bonus":case"leap_speedbonus_as":case"attack_speed_bonus":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"attack_speed_bonus_pct":"clinkz_strafe"!=a.name&&"ursa_overpower"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"speed_bonus":"axe_culling_blade"!=a.name&&"necronomicon_archer_aoe"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"attack_speed_pct":"ancient_apparition_chilling_touch"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"bonus_attack_speed":"beastmaster_inner_beast"!=a.name&&"lycan_feral_impulse"!=a.name&&"lone_druid_rabid"!=a.name&&"tiny_grow"!=a.name&&"phantom_assassin_phantom_strike"!=a.name&&"windrunner_focusfire"!=a.name&&"ogre_magi_bloodlust"!=a.name&&"centaur_khan_endurance_aura"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()))}}}return e}),t.getAttackSpeedReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.attackspeedreduction&&(e+=a.attackspeedreduction());else{for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"attackspeed_slow":case"slow_attack_speed":case"slow_attack_speed_pct":case"overload_attack_slow":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"speed_bonus":"omniknight_degen_aura"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"attack_slow":"crystal_maiden_freezing_field"!=a.name||t.hasScepter()?"tusk_frozen_sigil"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())):e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"attack_slow_scepter":"crystal_maiden_freezing_field"==a.name&&t.hasScepter()&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"attack_speed_pct":"faceless_void_time_walk"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"bonus_attackspeed":"bounty_hunter_jinada"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"attack_speed_slow":"brewmaster_thunder_clap"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"slow":"medusa_stone_gaze"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"attackspeed_bonus":e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level());break;case"attack_slow_tooltip":"abaddon_frostmourne"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()))}}"enraged_wildkin_tornado"==a.name&&(e-=15)}}return e}),t.getBash=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.bash&&(e*=1-a.bash()/100);else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"chance":case"proc_chance":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100}}}return e}),t.getBaseDamage=ko.computed(function(){for(var e=0,i=1,a={},l=0;l<t.abilities().length;l++){var s=t._abilities[l];if(s.level()>0&&(s.isActive()||s.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(s.name in t.abilityData)void 0!=s.baseDamageMultiplier&&(i+=s.baseDamageMultiplier()/100),void 0!=s.baseDamage&&(e+=s.baseDamage(),a[s.name]={damage:s.baseDamage(),damageType:"physical",displayname:s.displayname});else for(var r=0;r<t._abilities[l].attributes.length;r++){var n=t._abilities[l].attributes[r];switch(n.name){case"bonus_damage":"tiny_grow"!=s.name&&"terrorblade_metamorphosis"!=s.name||(e+=t.getAbilityAttributeValue(t._abilities[l].attributes,n.name,s.level()),a[s.name]={damage:t.getAbilityAttributeValue(t._abilities[l].attributes,n.name,s.level()),damageType:"physical",displayname:s.displayname})}}}return{sources:a,total:e,multiplier:i}}),t.getSelfBaseDamageReductionPct=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"damage_modifier":e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"focusfire_damage_reduction":t.hasScepter()||(e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"focusfire_damage_reduction_scepter":t.hasScepter()&&(e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}}return e}),t.getBaseDamageReductionPct=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.baseDamageReductionPct&&(e*=1+a.baseDamageReductionPct()/100);else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_damage_pct":"vengefulspirit_command_aura"==a.name&&(e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}}return e}),t.getBAT=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"base_attack_time":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getBonusDamage=ko.computed(function(){for(var e=0,i={},a=0;a<t.abilities().length;a++){var l=t._abilities[a];if(l.level()>0&&(l.isActive()||l.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(l.name in t.abilityData)void 0!=l.bonusDamage&&0!=l.bonusDamage()&&(e+=l.bonusDamage(),i[l.name]={damage:l.bonusDamage(),damageType:"spectre_desolate"==l.name?"pure":"physical",displayname:l.displayname});else{for(var s=0;s<t._abilities[a].attributes.length;s++){var r=t._abilities[a].attributes[s];switch(r.name){case"bonus_damage":"broodmother_insatiable_hunger"!=l.name&&"luna_lunar_blessing"!=l.name&&"templar_assassin_refraction"!=l.name&&"templar_assassin_meld"!=l.name&&"troll_warlord_berserkers_rage"!=l.name&&"lone_druid_true_form_battle_cry"!=l.name||(e+=t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level()),i[l.name]={damage:t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level()),damageType:"physical",displayname:l.displayname});break;case"hero_bonus_damage":e+=t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level()),i[l.name]={damage:t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level()),damageType:"physical",displayname:l.displayname}}}"storm_spirit_overload"==l.name&&(e+=t.getAbilityPropertyValue(l,"damage"),i[l.name]={damage:t.getAbilityPropertyValue(l,"damage"),damageType:"magic",displayname:l.displayname})}}return{sources:i,total:e}}),t.getBonusDamagePercent=ko.computed(function(){for(var e=0,i={},a=0;a<t.abilities().length;a++){var l=t._abilities[a];if(l.level()>0&&(l.isActive()||l.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(l.name in t.abilityData))for(var s=0;s<t._abilities[a].attributes.length;s++){var r=t._abilities[a].attributes[s];switch(r.name){case"damage_increase_pct":"bloodseeker_bloodrage"==l.name&&(e+=t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,i[l.name]={damage:t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,damageType:"physical",displayname:l.displayname});break;case"bonus_damage_pct":"magnataur_empower"!=l.name&&"vengefulspirit_command_aura"!=l.name&&"alpha_wolf_command_aura"!=l.name||(e+=t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,i[l.name]={damage:t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,damageType:"physical",displayname:l.displayname});break;case"gods_strength_damage":"sven_gods_strength"==l.name&&void 0!=t.hero&&"sven"==t.hero.heroId()&&(e+=t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,i[l.name]={damage:t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,damageType:"physical",displayname:l.displayname});break;case"gods_strength_damage_scepter":"sven_gods_strength"==l.name&&void 0==t.hero&&(e+=t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,i[l.name]={damage:t.getAbilityAttributeValue(t._abilities[a].attributes,r.name,l.level())/100,damageType:"physical",displayname:l.displayname})}}}return{sources:i,total:e}}),t.getBonusDamageBackstab=ko.computed(function(){for(var e=0,i=0,a=[],l=0;l<t.abilities().length;l++){var s=t._abilities[l];if("riki_backstab"==s.name&&s.level()>0&&(s.isActive()||s.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))for(var r=0;r<t._abilities[l].attributes.length;r++){var n=t._abilities[l].attributes[r];switch(n.name){case"damage_multiplier":e+=t.getAbilityAttributeValue(t._abilities[l].attributes,n.name,s.level()),a.push({damage:t.getAbilityAttributeValue(t._abilities[l].attributes,n.name,s.level()),damageType:"physical",displayname:s.displayname})}}}return{sources:a,total:[e,i]}}),t.getBonusDamagePrecisionAura=ko.computed(function(){for(var e=0,i=0,a=[],l=0;l<t.abilities().length;l++){var s=t._abilities[l];if("drow_ranger_trueshot"==s.name&&s.level()>0&&(s.isActive()||s.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)){for(var r=0;r<t._abilities[l].attributes.length;r++){var n=t._abilities[l].attributes[r];switch(n.name){case"trueshot_ranged_damage":e+=t.getAbilityAttributeValue(t._abilities[l].attributes,n.name,s.level())/100,a.push({damage:t.getAbilityAttributeValue(t._abilities[l].attributes,n.name,s.level())/100,damageType:"physical",displayname:s.displayname})}}void 0!=s.bonusDamagePrecisionAura&&(i+=s.bonusDamagePrecisionAura(),a.push({damage:s.bonusDamagePrecisionAura(),damageType:"physical",displayname:s.displayname}))}}return{sources:a,total:[e,i]}}),t.getBonusDamageReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.bonusDamageReduction&&(e+=a.bonusDamageReduction());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"enfeeble_attack_reduction":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getBonusDamageReductionPct=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"damage_modifier":e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"focusfire_damage_reduction":t.hasScepter()||(e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"focusfire_damage_reduction_scepter":t.hasScepter()&&(e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}}return e}),t.getDamageAmplification=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&void 0!=a.damageAmplification&&(e*=1+a.damageAmplification()/100)}return e}),t.getDamageReduction=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.damageReduction&&(e*=1+a.damageReduction()/100);else{for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"damage_increase_pct":"bloodseeker_bloodrage"==a.name&&(e*=1+t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}"kunkka_ghostship"==a.name&&(e*=.5)}}return e}),t.getCritSource=ko.computed(function(){for(var e={},i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))switch(a.name){case"phantom_assassin_coup_de_grace":void 0==e[a.name]?e[a.name]={chance:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_chance",a.level())/100,multiplier:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_bonus",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"brewmaster_drunken_brawler":void 0==e[a.name]?e[a.name]={chance:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_chance",a.level())/100,multiplier:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_multiplier",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"chaos_knight_chaos_strike":case"lycan_shapeshift":void 0==e[a.name]?e[a.name]={chance:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_chance",a.level())/100,multiplier:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_multiplier",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"skeleton_king_mortal_strike":void 0==e[a.name]?e[a.name]={chance:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_chance",a.level())/100,multiplier:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_mult",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"juggernaut_blade_dance":void 0==e[a.name]?e[a.name]={chance:t.getAbilityAttributeValue(t._abilities[i].attributes,"blade_dance_crit_chance",a.level())/100,multiplier:t.getAbilityAttributeValue(t._abilities[i].attributes,"blade_dance_crit_mult",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"alpha_wolf_critical_strike":case"giant_wolf_critical_strike":void 0==e[a.name]?e[a.name]={chance:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_chance",a.level())/100,multiplier:t.getAbilityAttributeValue(t._abilities[i].attributes,"crit_mult",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1}}return e}),t.getCleaveSource=ko.computed(function(){for(var e={},i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))switch(a.name){case"magnataur_empower":void 0==e[a.name]?e[a.name]={radius:t.getAbilityAttributeValue(t._abilities[i].attributes,"cleave_radius",a.level()),magnitude:t.getAbilityAttributeValue(t._abilities[i].attributes,"cleave_damage_pct",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"sven_great_cleave":void 0==e[a.name]?e[a.name]={radius:t.getAbilityAttributeValue(t._abilities[i].attributes,"great_cleave_radius",a.level()),magnitude:t.getAbilityAttributeValue(t._abilities[i].attributes,"great_cleave_damage",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"kunkka_tidebringer":void 0==e[a.name]?e[a.name]={radius:t.getAbilityAttributeValue(t._abilities[i].attributes,"radius",a.level()),magnitude:1,count:1,displayname:a.displayname}:e[a.name].count+=1;break;case"tiny_grow":t.hasScepter()&&(void 0==e[a.name]?e[a.name]={radius:t.getAbilityAttributeValue(t._abilities[i].attributes,"bonus_cleave_radius_scepter",a.level()),magnitude:t.getAbilityAttributeValue(t._abilities[i].attributes,"bonus_cleave_damage_scepter",a.level())/100,count:1,displayname:a.displayname}:e[a.name].count+=1)}}return e}),t.getCritChance=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"crit_chance":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100}}}return e}),t.getEvasion=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){
var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_evasion":case"dodge_chance":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100}}}return e}),t.getEvasionBacktrack=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"dodge_chance_pct":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100}}}return e}),t.getMissChance=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.missChance&&(e*=1-a.missChance()/100);else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"miss_chance":case"miss_rate":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100}}}return e}),t.getLifesteal=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.lifesteal&&(e+=a.lifesteal());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"vampiric_aura":case"lifesteal_pct":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getMagicResist=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.magicResist&&(e*=1-a.magicResist()/100);else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"spell_shield_resistance":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"magic_resistance_pct":"phantom_lancer_phantom_edge"==a.name&&(e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"magic_damage_reduction_pct":"rubick_null_field"==a.name&&(e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}}return e}),t.getMagicResistReduction=ko.computed(function(){for(var e=1,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"spell_resist_pct":case"bonus_spell_damage_pct":case"resist_debuff":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"magic_resistance_pct":e*=1-t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100}}}return e}),t.getMovementSpeedFlat=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.movementSpeedFlat&&(e+=a.movementSpeedFlat());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"bonus_movespeed":"alchemist_chemical_rage"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"bonus_movement_speed":"tiny_grow"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"bonus_move_speed":"troll_warlord_berserkers_rage"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level()));break;case"speed_loss":e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getMovementSpeedPercent=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.movementSpeedPct&&(e+=a.movementSpeedPct()/100);else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"move_speed_pct":case"bonus_move_speed_pct":case"leap_speedbonus":case"warcry_movespeed":case"move_speed_bonus_pct":case"movespeed_bonus_pct":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"bonus_movespeed":"broodmother_spin_web"!=a.name&&"spectre_spectral_dagger"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"speed_bonus":"axe_culling_blade"!=a.name&&"necronomicon_archer_aoe"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movement_speed":"nyx_assassin_vendetta"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"bonus_movespeed_pct":"spirit_breaker_empowering_haste"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"bonus_movement_speed":"ogre_magi_bloodlust"!=a.name&&"death_prophet_witchcraft"!=a.name&&"kobold_taskmaster_speed_aura"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movement_speed_pct":"razor_unstable_current"!=a.name&&"phantom_lancer_doppelwalk"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"bonus_move_speed":"treant_natures_guise"!=a.name&&"lone_druid_rabid"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movespeed":"wisp_tether"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movespeed_bonus":"kunkka_ghostship"!=a.name&&"visage_grave_chill"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}}return e}),t.getMovementSpeedPercentReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.movementSpeedPctReduction&&(e+=a.movementSpeedPctReduction()/100);else{for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"movespeed_slow":"crystal_maiden_freezing_field"!=a.name||t.hasScepter()||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movespeed_slow_scepter":"crystal_maiden_freezing_field"==a.name&&t.hasScepter()&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"slow_pct":e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"movespeed_slow":"crystal_maiden_freezing_field"!=a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"slow_movement_speed":case"slow_movement_speed_pct":case"frost_arrows_movement_speed":case"blast_slow":case"crush_extra_slow":case"overload_move_slow":case"enemy_movespeed_bonus_pct":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"move_slow":"phantom_assassin_stifling_dagger"==a.name?e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100:"tusk_frozen_sigil"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"slow":"medusa_stone_gaze"==a.name?e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100:e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100;break;case"bonus_movespeed":"broodmother_incapacitating_bite"==a.name||"bounty_hunter_jinada"==a.name||"winter_wyvern_arctic_burn"==a.name||"winter_wyvern_splinter_blast"==a.name?e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100:"spectre_spectral_dagger"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"speed_bonus":"omniknight_degen_aura"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movement_speed":"tidehunter_gush"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"bonus_movement_speed":"pugna_decrepify"!=a.name&&"chen_penitence"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movement_speed_pct":"ancient_apparition_ice_vortex"==a.name||"phantom_lancer_spirit_lance"==a.name||"faceless_void_time_walk"==a.name?e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100:"skywrath_mage_concussive_shot"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"slow_amount":"razor_unstable_current"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movement_slow":"brewmaster_drunken_haze"==a.name||"brewmaster_thunder_clap"==a.name?e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100:"ursa_earthshock"!=a.name&&"treant_leech_seed"!=a.name||(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movespeed":"skeleton_king_reincarnation"==a.name&&(e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100);break;case"movespeed_bonus":"kunkka_torrent"==a.name?e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100:"visage_grave_chill"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}"satyr_trickster_purge"==a.name?e-=.8:"enraged_wildkin_tornado"==a.name&&(e-=.15)}}return e}),t.getTurnRateReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.turnRateReduction&&(e+=a.turnRateReduction()/100);else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"slow":"medusa_stone_gaze"==a.name&&(e-=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100)}}}return e}),t.getVisionRangeNight=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.visionnight&&(e+=a.visionnight());else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"night_vision_bonus":case"bonus_night_vision":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())}}}return e}),t.getVisionRangePctReduction=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&!(a.name in t.abilityData))for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"blind_percentage":e+=t.getAbilityAttributeValue(t._abilities[i].attributes,s.name,a.level())/100}}}return e}),t.setEvasion=ko.computed(function(){for(var e=0,i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)&&"windrunner_windrun"==a.name)return 1}return e}),t.setMovementSpeed=ko.computed(function(){for(var e=522,i=100,a=0,l=0;l<t.abilities().length;l++){var s=t._abilities[l];if(s.level()>0&&(s.isActive()||s.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1)){if("spirit_breaker_charge_of_darkness"==s.name)return t.getAbilityAttributeValue(s.attributes,"movement_speed",s.level());if("dark_seer_surge"==s.name)return e;if("centaur_stampede"==s.name)return e;if("lycan_shapeshift"==s.name)return e;if("lion_voodoo"==s.name||"shadow_shaman_voodoo"==s.name)return i}}return a}),t.getBashSource=function(e){for(var i={},a=0;a<t.abilities().length;a++){var l=t._abilities[a];if(l.level()>0&&(l.isActive()||l.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(l.name in t.abilityData)void 0!=l.bashBonusDamage&&(void 0==i[l.name]&&"faceless_void_time_lock"==l.name&&(i[l.name]={chance:l.bash()/100,damage:l.bashBonusDamage(),count:1,damageType:"magic",displayname:l.displayname}),void 0==i[l.name]&&"spirit_breaker_greater_bash"==l.name&&(i[l.name]={chance:l.bash()/100,damage:l.bashBonusDamage()/100,count:1,damageType:"magic",displayname:l.displayname}));else for(var s=0;s<t._abilities[a].attributes.length;s++){var r=t._abilities[a].attributes[s];switch(r.name){case"proc_chance":void 0==i[l.name]&&"sniper_headshot"==l.name&&(i[l.name]={chance:t.getAbilityAttributeValue(l.attributes,r.name,l.level())/100,damage:t.getAbilityPropertyValue(l,"damage"),count:1,damageType:"physical",displayname:l.displayname});break;case"chance":void 0==i[l.name]&&"slardar_bash"==l.name&&(i[l.name]={chance:t.getAbilityAttributeValue(l.attributes,r.name,l.level())/100,damage:t.getAbilityAttributeValue(l.attributes,"bonus_damage",l.level()),count:1,damageType:"physical",displayname:l.displayname})}}}return i},t.getOrbSource=function(){for(var e={},i=0;i<t.abilities().length;i++){var a=t._abilities[i];if(a.level()>0&&(a.isActive()||a.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")!=-1))if(a.name in t.abilityData)void 0!=a.bonusDamageOrb&&void 0==e[a.name]&&"obsidian_destroyer_arcane_orb"==a.name&&(e[a.name]={damage:a.bonusDamageOrb(),damageType:"pure",displayname:a.displayname});else for(var l=0;l<t._abilities[i].attributes.length;l++){var s=t._abilities[i].attributes[l];switch(s.name){case"mana_per_hit":void 0==e[a.name]&&"antimage_mana_break"==a.name&&(e[a.name]={damage:t.getAbilityAttributeValue(a.attributes,s.name,a.level())*t.getAbilityAttributeValue(a.attributes,"damage_per_burn",a.level()),damageType:"physical",displayname:a.displayname});break;case"damage_bonus":void 0==e[a.name]&&"clinkz_searing_arrows"==a.name&&(e[a.name]={damage:t.getAbilityAttributeValue(a.attributes,s.name,a.level()),damageType:"physical",displayname:a.displayname});case"intellect_damage_pct":void 0==e[a.name]&&"silencer_glaives_of_wisdom"==a.name&&(e[a.name]={damage:t.getAbilityAttributeValue(a.attributes,s.name,a.level())/100*t.hero.totalInt(),damageType:"pure",displayname:a.displayname})}}}return e},t.toggleAbility=function(e,i,a){t.abilities()[e()].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(t.abilities()[e()].isActive()?t.abilities()[e()].isActive(!1):t.abilities()[e()].isActive(!0),"lycan_shapeshift"==t.abilities()[e()].name&&t.isShapeShiftActive(t.abilities()[e()].isActive()))}.bind(this),t.toggleAbilityDetail=function(e,i,a){t.abilities()[e()].isDetail()?t.abilities()[e()].isDetail(!1):t.abilities()[e()].isDetail(!0)}.bind(this),t.getAbility=function(e){return t.abilities().find(function(i){return i.name==e})}};AbilityModel.prototype.levelUpAbility=function(e,i,t,a){var l=this;if(l.abilities()[e()].level()<a.getAbilityLevelMax(i)&&a.availableSkillPoints()>0){switch(l.abilities()[e()].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":"invoker"==a.heroId()?(0==l.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=2||1==l.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=7||2==l.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=11||3==l.abilities()[e()].level()&&parseInt(a.selectedHeroLevel())>=17)&&(l.abilities()[e()].level(l.abilities()[e()].level()+1),a.skillPointHistory.push(e())):"meepo"==a.heroId()?7*l.abilities()[e()].level()+3<=parseInt(a.selectedHeroLevel())&&(l.abilities()[e()].level(l.abilities()[e()].level()+1),a.skillPointHistory.push(e())):5*(l.abilities()[e()].level()+1)+1<=parseInt(a.selectedHeroLevel())&&(l.abilities()[e()].level(l.abilities()[e()].level()+1),a.skillPointHistory.push(e()));break;default:2*l.abilities()[e()].level()+1<=parseInt(a.selectedHeroLevel())&&(l.abilities()[e()].level(l.abilities()[e()].level()+1),a.skillPointHistory.push(e()))}switch(l.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":l.abilities()[e()+1].level(l.abilities()[e()].level());break;case"morphling_morph_str":l.abilities()[e()-1].level(l.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":l.abilities()[e()-1].level(l.abilities()[e()].level()),l.abilities()[e()-2].level(l.abilities()[e()].level());break;case"nevermore_shadowraze1":l.abilities()[e()+1].level(l.abilities()[e()].level()),l.abilities()[e()+2].level(l.abilities()[e()].level());break;case"nevermore_shadowraze2":l.abilities()[e()-1].level(l.abilities()[e()].level()),l.abilities()[e()+1].level(l.abilities()[e()].level());break;case"nevermore_shadowraze3":l.abilities()[e()-1].level(l.abilities()[e()].level()),l.abilities()[e()-2].level(l.abilities()[e()].level());break;case"ember_spirit_fire_remnant":l.abilities()[e()-1].level(l.abilities()[e()].level());break;case"lone_druid_true_form":l.abilities()[e()-1].level(l.abilities()[e()].level())}}},AbilityModel.prototype.levelDownAbility=function(e,i,t,a){var l=ko.utils.unwrapObservable(e),s=this;if(s.abilities()[l].level()>0)switch(s.abilities()[l].level(s.abilities()[l].level()-1),a.skillPointHistory.splice(a.skillPointHistory().lastIndexOf(l),1),s.abilities()[l].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":s.abilities()[l+1].level(s.abilities()[l].level());break;case"morphling_morph_str":s.abilities()[l-1].level(s.abilities()[l].level());break;case"keeper_of_the_light_spirit_form":s.abilities()[l-1].level(s.abilities()[l].level()),s.abilities()[l-2].level(s.abilities()[l].level());break;case"nevermore_shadowraze1":s.abilities()[l+1].level(s.abilities()[l].level()),s.abilities()[l+2].level(s.abilities()[l].level());break;case"nevermore_shadowraze2":s.abilities()[l-1].level(s.abilities()[l].level()),s.abilities()[l+1].level(s.abilities()[l].level());break;case"nevermore_shadowraze3":s.abilities()[l-1].level(s.abilities()[l].level()),s.abilities()[l-2].level(s.abilities()[l].level());break;case"ember_spirit_fire_remnant":s.abilities()[l-1].level(s.abilities()[l].level());break;case"lone_druid_true_form":s.abilities()[l-1].level(s.abilities()[l].level())}},AbilityModel.prototype.getAbilityAttributeValue=function(e,i,t){for(var a=0;a<e.length;a++)if(e[a].name==i)return 0==t?parseFloat(e[a].value[0]):t>e[a].value.length?parseFloat(e[a].value[0]):parseFloat(e[a].value[t-1])},AbilityModel.prototype.getAbilityAttributeTooltip=function(e,i){for(var t=0;t<e.length;t++)if(e[t].name==i){if(e[t].hasOwnProperty("tooltip")){var a=e[t].tooltip.replace(/\\n/g,"");return a}return""}return""},module.exports=AbilityModel;
},{"./herocalc_abilitydata":18,"./herocalc_knockout":19}],2:[function(require,module,exports){
"use strict";var ko=require("./herocalc_knockout"),AbilityModel=require("./AbilityModel"),InventoryViewModel=require("./inventory/InventoryViewModel"),findWhere=require("./util/findWhere"),buffOptionsArray=require("./buffs/buffOptionsArray"),debuffOptionsArray=require("./buffs/debuffOptionsArray"),BuffViewModel=function(e,i){var a=this;return AbilityModel.call(this,ko.observableArray([])),a.availableBuffs=ko.observableArray(buffOptionsArray.items),a.availableDebuffs=ko.observableArray(debuffOptionsArray.items),a.selectedBuff=ko.observable(a.availableBuffs()[0]),a.buffs=ko.observableArray([]),a.itemBuffs=new InventoryViewModel(e),a.addBuff=function(e,i){if(void 0==findWhere(a.buffs(),{name:a.selectedBuff().buffName})){var l=JSON.parse(JSON.stringify(a.selectedBuff().abilityData));switch(l.level=ko.observable(0),l.isActive=ko.observable(!1),l.isDetail=ko.observable(!1),l.baseDamage=ko.observable(0),l.bash=ko.observable(0),l.bashBonusDamage=ko.observable(0),l.bonusDamage=ko.observable(0),l.bonusDamageOrb=ko.observable(0),l.bonusDamagePct=ko.observable(0),l.bonusDamagePrecisionAura=ko.observable(0),l.bonusDamageReduction=ko.observable(0),l.bonusHealth=ko.observable(0),l.bonusStrength=ko.observable(0),l.bonusStrength2=ko.observable(0),l.bonusAgility=ko.observable(0),l.bonusAgility2=ko.observable(0),l.bonusInt=ko.observable(0),l.bonusAllStatsReduction=ko.observable(0),l.damageAmplification=ko.observable(0),l.damageReduction=ko.observable(0),l.evasion=ko.observable(0),l.magicResist=ko.observable(0),l.manaregen=ko.observable(0),l.manaregenreduction=ko.observable(0),l.missChance=ko.observable(0),l.movementSpeedFlat=ko.observable(0),l.movementSpeedPct=ko.observable(0),l.movementSpeedPctReduction=ko.observable(0),l.turnRateReduction=ko.observable(0),l.attackrange=ko.observable(0),l.attackspeed=ko.observable(0),l.attackspeedreduction=ko.observable(0),l.armor=ko.observable(0),l.armorReduction=ko.observable(0),l.healthregen=ko.observable(0),l.lifesteal=ko.observable(0),l.visionnight=ko.observable(0),l.visionday=ko.observable(0),l.name){case"invoker_cold_snap":case"invoker_ghost_walk":case"invoker_tornado":case"invoker_emp":case"invoker_alacrity":case"invoker_chaos_meteor":case"invoker_sun_strike":case"invoker_forge_spirit":case"invoker_ice_wall":case"invoker_deafening_blast":l.level(1)}a.abilities.push(l),a.buffs.push({name:a.selectedBuff().buffName,hero:a.selectedBuff().hero,data:l})}},a.removeBuff=function(e,i,l){if(void 0!=findWhere(a.buffs(),{name:l})){if(a.buffs.remove(findWhere(a.buffs(),{name:l})),void 0!=a.abilityControlData[l]){for(var s=0;s<a.abilityControlData[l].data.length;s++)void 0!=a.abilityControlData[l].data[s].controlVal.dispose&&a.abilityControlData[l].data[s].controlVal.dispose(),void 0!=a.abilityControlData[l].data[s].clean&&a.abilityControlData[l].data[s].clean.dispose();a.abilityControlData[l]=void 0}for(var s=0;s<a.abilities().length;s++)if(a.abilities()[s].name==l){a.abilities()[s].level(0),a.abilities.remove(a.abilities()[s]);break}}},a.toggleBuff=function(e,i,l){a.buffs()[e()].data.behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE")<0&&(a.buffs()[e()].data.isActive()?(a.buffs()[e()].data.isActive(!1),a.abilities()[e()].isActive(!1)):(a.buffs()[e()].data.isActive(!0),a.abilities()[e()].isActive(!0)))}.bind(this),a.toggleBuffDetail=function(e,i,l){a.buffs()[e()].data.isDetail()?a.buffs()[e()].data.isDetail(!1):a.buffs()[e()].data.isDetail(!0)}.bind(this),a.levelUpAbility=function(e,i,l,s){if(a.abilities()[e()].level()<s.getAbilityLevelMax(i)){switch(a.abilities()[e()].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":a.abilities()[e()].level(a.abilities()[e()].level()+1);break;default:a.abilities()[e()].level(a.abilities()[e()].level()+1)}switch(a.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"morphling_morph_str":a.abilities()[e()-1].level(a.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level());case"nevermore_shadowraze1":a.abilities()[e()+1].level(a.abilities()[e()].level()),a.abilities()[e()+2].level(a.abilities()[e()].level());break;case"nevermore_shadowraze2":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"nevermore_shadowraze3":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level())}}},a.levelDownAbility=function(e,i,l,s){if(a.abilities()[e()].level()>0)switch(a.abilities()[e()].level(a.abilities()[e()].level()-1),a.abilities()[e()].name){case"beastmaster_call_of_the_wild":case"chen_test_of_faith":case"morphling_morph_agi":case"shadow_demon_shadow_poison":a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"morphling_morph_str":a.abilities()[e()-1].level(a.abilities()[e()].level());break;case"keeper_of_the_light_spirit_form":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level());case"nevermore_shadowraze1":a.abilities()[e()+1].level(a.abilities()[e()].level()),a.abilities()[e()+2].level(a.abilities()[e()].level());break;case"nevermore_shadowraze2":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()+1].level(a.abilities()[e()].level());break;case"nevermore_shadowraze3":a.abilities()[e()-1].level(a.abilities()[e()].level()),a.abilities()[e()-2].level(a.abilities()[e()].level());break;case"ember_spirit_fire_remnant":a.abilities()[e()-1].level(a.abilities()[e()].level());break;case"lone_druid_true_form":a.abilities()[e()-1].level(a.abilities()[e()].level())}},a};BuffViewModel.prototype=Object.create(AbilityModel.prototype),BuffViewModel.prototype.constructor=BuffViewModel,module.exports=BuffViewModel;
},{"./AbilityModel":1,"./buffs/buffOptionsArray":4,"./buffs/debuffOptionsArray":5,"./herocalc_knockout":19,"./inventory/InventoryViewModel":22,"./util/findWhere":33}],3:[function(require,module,exports){
var findWhere=require("../util/findWhere"),BuffModel=function(i,a,e,t){this.buffName=t,void 0==i["npc_dota_hero_"+e]?(this.hero=e,this.abilityData=findWhere(a[e].abilities,{name:t}),this.buffDisplayName=a[e].displayname+" - "+this.abilityData.displayname):(this.hero="npc_dota_hero_"+e,this.abilityData=findWhere(i["npc_dota_hero_"+e].abilities,{name:t}),this.buffDisplayName=i["npc_dota_hero_"+e].displayname+" - "+this.abilityData.displayname,"sven_gods_strength"==t&&(this.buffDisplayName+=" (Aura for allies)"))};module.exports=BuffModel;
},{"../util/findWhere":33}],4:[function(require,module,exports){
var BuffModel=require("./BuffModel"),buffOptionsArray={},init=function(e){return buffOptionsArray.items=[new BuffModel(e,"abaddon","abaddon_frostmourne"),new BuffModel(e,"axe","axe_culling_blade"),new BuffModel(e,"beastmaster","beastmaster_inner_beast"),new BuffModel(e,"bloodseeker","bloodseeker_bloodrage"),new BuffModel(e,"bounty_hunter","bounty_hunter_track"),new BuffModel(e,"centaur","centaur_stampede"),new BuffModel(e,"crystal_maiden","crystal_maiden_brilliance_aura"),new BuffModel(e,"dark_seer","dark_seer_surge"),new BuffModel(e,"dazzle","dazzle_weave"),new BuffModel(e,"drow_ranger","drow_ranger_trueshot"),new BuffModel(e,"invoker","invoker_alacrity"),new BuffModel(e,"wisp","wisp_tether"),new BuffModel(e,"wisp","wisp_overcharge"),new BuffModel(e,"kunkka","kunkka_ghostship"),new BuffModel(e,"lich","lich_frost_armor"),new BuffModel(e,"life_stealer","life_stealer_open_wounds"),new BuffModel(e,"luna","luna_lunar_blessing"),new BuffModel(e,"lycan","lycan_howl"),new BuffModel(e,"magnataur","magnataur_empower"),new BuffModel(e,"mirana","mirana_leap"),new BuffModel(e,"ogre_magi","ogre_magi_bloodlust"),new BuffModel(e,"omniknight","omniknight_guardian_angel"),new BuffModel(e,"rubick","rubick_null_field"),new BuffModel(e,"skeleton_king","skeleton_king_vampiric_aura"),new BuffModel(e,"spirit_breaker","spirit_breaker_empowering_haste"),new BuffModel(e,"sven","sven_warcry"),new BuffModel(e,"sven","sven_gods_strength"),new BuffModel(e,"treant","treant_living_armor"),new BuffModel(e,"troll_warlord","troll_warlord_battle_trance"),new BuffModel(e,"vengefulspirit","vengefulspirit_command_aura"),new BuffModel(e,"npc_dota_neutral_alpha_wolf","alpha_wolf_critical_strike"),new BuffModel(e,"npc_dota_neutral_alpha_wolf","alpha_wolf_command_aura"),new BuffModel(e,"npc_dota_neutral_polar_furbolg_ursa_warrior","centaur_khan_endurance_aura"),new BuffModel(e,"npc_dota_neutral_giant_wolf","giant_wolf_critical_strike"),new BuffModel(e,"npc_dota_neutral_kobold_taskmaster","kobold_taskmaster_speed_aura"),new BuffModel(e,"npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new BuffModel(e,"npc_dota_neutral_satyr_hellcaller","satyr_hellcaller_unholy_aura"),new BuffModel(e,"npc_dota_neutral_enraged_wildkin","enraged_wildkin_toughness_aura"),new BuffModel(e,"npc_dota_necronomicon_archer_1","necronomicon_archer_aoe")],buffOptionsArray.items};buffOptionsArray.init=init,module.exports=buffOptionsArray;
},{"./BuffModel":3}],5:[function(require,module,exports){
var BuffModel=require("./BuffModel"),debuffOptionsArray={},init=function(e){return debuffOptionsArray.items=[new BuffModel(e,"abaddon","abaddon_frostmourne"),new BuffModel(e,"alchemist","alchemist_acid_spray"),new BuffModel(e,"ancient_apparition","ancient_apparition_ice_vortex"),new BuffModel(e,"axe","axe_battle_hunger"),new BuffModel(e,"bane","bane_enfeeble"),new BuffModel(e,"batrider","batrider_sticky_napalm"),new BuffModel(e,"beastmaster","beastmaster_primal_roar"),new BuffModel(e,"bounty_hunter","bounty_hunter_jinada"),new BuffModel(e,"brewmaster","brewmaster_thunder_clap"),new BuffModel(e,"brewmaster","brewmaster_drunken_haze"),new BuffModel(e,"bristleback","bristleback_viscous_nasal_goo"),new BuffModel(e,"broodmother","broodmother_incapacitating_bite"),new BuffModel(e,"centaur","centaur_stampede"),new BuffModel(e,"chen","chen_penitence"),new BuffModel(e,"crystal_maiden","crystal_maiden_crystal_nova"),new BuffModel(e,"crystal_maiden","crystal_maiden_freezing_field"),new BuffModel(e,"dazzle","dazzle_weave"),new BuffModel(e,"drow_ranger","drow_ranger_frost_arrows"),new BuffModel(e,"earth_spirit","earth_spirit_rolling_boulder"),new BuffModel(e,"elder_titan","elder_titan_natural_order"),new BuffModel(e,"elder_titan","elder_titan_earth_splitter"),new BuffModel(e,"enchantress","enchantress_untouchable"),new BuffModel(e,"enchantress","enchantress_enchant"),new BuffModel(e,"faceless_void","faceless_void_time_walk"),new BuffModel(e,"huskar","huskar_life_break"),new BuffModel(e,"invoker","invoker_ghost_walk"),new BuffModel(e,"invoker","invoker_ice_wall"),new BuffModel(e,"wisp","wisp_tether"),new BuffModel(e,"jakiro","jakiro_dual_breath"),new BuffModel(e,"jakiro","jakiro_liquid_fire"),new BuffModel(e,"keeper_of_the_light","keeper_of_the_light_blinding_light"),new BuffModel(e,"kunkka","kunkka_torrent"),new BuffModel(e,"lich","lich_frost_nova"),new BuffModel(e,"lich","lich_frost_armor"),new BuffModel(e,"lich","lich_chain_frost"),new BuffModel(e,"life_stealer","life_stealer_open_wounds"),new BuffModel(e,"lion","lion_voodoo"),new BuffModel(e,"magnataur","magnataur_skewer"),new BuffModel(e,"medusa","medusa_stone_gaze"),new BuffModel(e,"meepo","meepo_geostrike"),new BuffModel(e,"naga_siren","naga_siren_rip_tide"),new BuffModel(e,"night_stalker","night_stalker_void"),new BuffModel(e,"night_stalker","night_stalker_crippling_fear"),new BuffModel(e,"night_stalker","night_stalker_darkness"),new BuffModel(e,"ogre_magi","ogre_magi_ignite"),new BuffModel(e,"omniknight","omniknight_degen_aura"),new BuffModel(e,"phantom_assassin","phantom_assassin_stifling_dagger"),new BuffModel(e,"phantom_lancer","phantom_lancer_spirit_lance"),new BuffModel(e,"pudge","pudge_rot"),new BuffModel(e,"pugna","pugna_decrepify"),new BuffModel(e,"queenofpain","queenofpain_shadow_strike"),new BuffModel(e,"riki","riki_smoke_screen"),new BuffModel(e,"rubick","rubick_fade_bolt"),new BuffModel(e,"sand_king","sandking_epicenter"),new BuffModel(e,"nevermore","nevermore_dark_lord"),new BuffModel(e,"shadow_shaman","shadow_shaman_voodoo"),new BuffModel(e,"skeleton_king","skeleton_king_hellfire_blast"),new BuffModel(e,"skeleton_king","skeleton_king_reincarnation"),new BuffModel(e,"skywrath_mage","skywrath_mage_concussive_shot"),new BuffModel(e,"skywrath_mage","skywrath_mage_ancient_seal"),new BuffModel(e,"slardar","slardar_slithereen_crush"),new BuffModel(e,"slardar","slardar_amplify_damage"),new BuffModel(e,"slark","slark_essence_shift"),new BuffModel(e,"sniper","sniper_shrapnel"),new BuffModel(e,"spectre","spectre_spectral_dagger"),new BuffModel(e,"storm_spirit","storm_spirit_overload"),new BuffModel(e,"templar_assassin","templar_assassin_meld"),new BuffModel(e,"tidehunter","tidehunter_gush"),new BuffModel(e,"tinker","tinker_laser"),new BuffModel(e,"treant","treant_leech_seed"),new BuffModel(e,"tusk","tusk_frozen_sigil"),new BuffModel(e,"undying","undying_flesh_golem"),new BuffModel(e,"ursa","ursa_earthshock"),new BuffModel(e,"vengefulspirit","vengefulspirit_wave_of_terror"),new BuffModel(e,"vengefulspirit","vengefulspirit_command_aura"),new BuffModel(e,"venomancer","venomancer_venomous_gale"),new BuffModel(e,"venomancer","venomancer_poison_sting"),new BuffModel(e,"viper","viper_poison_attack"),new BuffModel(e,"viper","viper_corrosive_skin"),new BuffModel(e,"viper","viper_viper_strike"),new BuffModel(e,"visage","visage_grave_chill"),new BuffModel(e,"warlock","warlock_upheaval"),new BuffModel(e,"weaver","weaver_the_swarm"),new BuffModel(e,"windrunner","windrunner_windrun"),new BuffModel(e,"winter_wyvern","winter_wyvern_arctic_burn"),new BuffModel(e,"winter_wyvern","winter_wyvern_splinter_blast"),new BuffModel(e,"npc_dota_neutral_ghost","ghost_frost_attack"),new BuffModel(e,"npc_dota_neutral_polar_furbolg_ursa_warrior","polar_furbolg_ursa_warrior_thunder_clap"),new BuffModel(e,"npc_dota_neutral_ogre_magi","ogre_magi_frost_armor"),new BuffModel(e,"npc_dota_neutral_satyr_trickster","satyr_trickster_purge"),new BuffModel(e,"npc_dota_neutral_enraged_wildkin","enraged_wildkin_tornado")],debuffOptionsArray.items};debuffOptionsArray.init=init,module.exports=debuffOptionsArray;
},{"./BuffModel":3}],6:[function(require,module,exports){
(function (global){
var HeroCalcData=("undefined"!=typeof window?window.HeroCalcData:"undefined"!=typeof global?global.HeroCalcData:null)||{},getJSON=require("../util/getJSON"),isEmpty=require("../util/isEmpty"),extend=function(e){e=e||{};for(var a=1;a<arguments.length;a++)if(arguments[a])for(var o in arguments[a])arguments[a].hasOwnProperty(o)&&(e[o]=arguments[a][o]);return e},resourceCounter=0,onResourceLoaded=function(e){resourceCounter--,0===resourceCounter&&(fixHeroData(HeroCalcData.heroData),e&&e())},fixHeroData=function(e){e.npc_dota_hero_chen.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_nevermore.abilities[1].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_nevermore.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_morphling.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_ogre_magi.abilities[3].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_techies.abilities[4].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE"),e.npc_dota_hero_beastmaster.abilities[2].behavior.push("DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE");var a=e.npc_dota_hero_lone_druid.abilities[3].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_HIDDEN");e.npc_dota_hero_lone_druid.abilities[3].behavior.splice(a,1),a=e.npc_dota_hero_abaddon.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),e.npc_dota_hero_abaddon.abilities[2].behavior.splice(a,1),a=e.npc_dota_hero_riki.abilities[2].behavior.indexOf("DOTA_ABILITY_BEHAVIOR_PASSIVE"),e.npc_dota_hero_riki.abilities[2].behavior.splice(a,1)},init=function(e,a,o,i){console.log("init HeroCalcData",HeroCalcData),resourceCounter=3,!HeroCalcData.heroData||isEmpty(HeroCalcData.heroData)?e&&getJSON(e,function(e){HeroCalcData.heroData=e,onResourceLoaded(i)}):onResourceLoaded(i),!HeroCalcData.itemData||isEmpty(HeroCalcData.itemData)?a&&getJSON(a,function(e){HeroCalcData.itemData=e,onResourceLoaded(i)}):onResourceLoaded(i),!HeroCalcData.unitData||isEmpty(HeroCalcData.unitData)?o&&getJSON(o,function(e){HeroCalcData.unitData=e,onResourceLoaded(i)}):onResourceLoaded(i)};HeroCalcData.init=init,module.exports=HeroCalcData;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../util/getJSON":34,"../util/isEmpty":35}],7:[function(require,module,exports){
"use strict";var HeroModel=require("./HeroModel"),CloneModel=function(e,o,r,t){var l=this;return HeroModel.call(this,e,o,r),l.parent=t,l};CloneModel.prototype=Object.create(HeroModel.prototype),CloneModel.prototype.constructor=CloneModel,module.exports=CloneModel;
},{"./HeroModel":10}],8:[function(require,module,exports){
var DamageTypeColor={physical:"#979aa2",pure:"goldenrod",magic:"#428bca",default:"#979aa2"};module.exports=DamageTypeColor;
},{}],9:[function(require,module,exports){
"use strict";var ko=require("../herocalc_knockout"),DamageTypeColor=require("./DamageTypeColor"),extend=require("../util/extend"),HeroDamageMixin=function(e,a){e.critInfo=ko.pureComputed(function(){function a(e,a){return e.multiplier<a.multiplier?1:e.multiplier>a.multiplier?-1:0}var t=e.inventory.getCritSource();extend(t,e.ability().getCritSource()),extend(t,e.buffs.getCritSource());var r=[];for(var o in t){var n=t[o];n.name=o,r.push(n)}r.sort(a);for(var c=[],d=0,u=0;u<r.length;u++){for(var i=1,m=0;m<u;m++)for(var s=0;s<r[m].count;s++)i*=1-r[m].chance;for(var g=1,s=0;s<r[u].count;s++)g*=1-r[u].chance;i*=1-g,d+=i,r[u].count>1?c.push({name:r[u].displayname+" x"+r[u].count,chance:r[u].chance,multiplier:r[u].multiplier,count:r[u].count,totalChance:i}):c.push({name:r[u].displayname,chance:r[u].chance,multiplier:r[u].multiplier,count:r[u].count,totalChance:i})}return{sources:c,total:d}}),e.cleaveInfo=ko.pureComputed(function(){function a(e,a){return e.radius<a.radius?1:e.radius>a.radius?-1:0}var t=e.inventory.getCleaveSource();extend(t,e.ability().getCleaveSource()),extend(t,e.buffs.getCleaveSource());var r=[];for(var o in t){var n=t[o];n.name=o,r.push(n)}r.sort(a);for(var c={},d=0;d<r.length;d++){for(var u=0,i=0;i<r.length;i++)r[i].radius>=r[d].radius&&(u+=r[i].magnitude*r[i].count);c[r[d].radius]=u}var m=[];for(var o in c)m.push({radius:o,magnitude:c[o]});return m}),e.bashInfo=ko.pureComputed(function(){var a=e.heroData().attacktype,t=e.inventory.getBashSource(a);extend(t,e.ability().getBashSource());var r=[];for(var o in t){var n=t[o];n.name=o,r.push(n)}for(var c=[],d=0,u=0;u<r.length;u++){for(var i=1,m=0;m<u;m++)for(var s=0;s<r[m].count;s++)i*=1-r[m].chance;for(var g=1,s=0;s<r[u].count;s++)g*=1-r[u].chance;if(i*=1-g,d+=i,"spirit_breaker_greater_bash"===r[u].name)var l=r[u].damage*e.totalMovementSpeed();else var l=r[u].damage;r[u].count>1?c.push({name:r[u].displayname,chance:r[u].chance,damage:l,count:r[u].count,damageType:r[u].damageType,totalChance:i}):c.push({name:r[u].displayname,chance:r[u].chance,damage:l,count:r[u].count,damageType:r[u].damageType,totalChance:i})}return{sources:c,total:d}}),e.orbProcInfo=ko.pureComputed(function(){function a(e,a){return e.priority>a.priority?1:e.priority<a.priority?-1:e.damage<a.damage?1:e.damage>a.damage?-1:0}var t=(e.heroData().attacktype,e.inventory.getOrbProcSource()),r=[];for(var o in t){var n=t[o];n.name=o,r.push(n)}r.sort(a);for(var c=[],d=0,u=0;u<r.length;u++){for(var i=1,m=0;m<u;m++)for(var s=0;s<r[m].count;s++)i*=1-r[m].chance;for(var g=1,s=0;s<r[u].count;s++)g*=1-r[u].chance;i*=1-g,d+=i,r[u].count>1?c.push({name:r[u].displayname+" x"+r[u].count,chance:r[u].chance,damage:r[u].damage,count:r[u].count,damageType:r[u].damageType,totalChance:i}):c.push({name:r[u].displayname,chance:r[u].chance,damage:r[u].damage,count:r[u].count,damageType:r[u].damageType,totalChance:i})}return{sources:c,total:d}}),e.getReducedDamage=function(a,t){var r=a;switch(t){case"physical":r=a*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical())));break;case"magic":r=a*(1-e.enemy().totalMagicResistance()/100);break;case"pure":r=a;break;case"composite":r=a*(1-.06*e.enemy().totalArmorPhysical()/(1+.06*Math.abs(e.enemy().totalArmorPhysical()))),r*=1-e.enemy().totalMagicResistance()/100}return r*=e.ability().getDamageAmplification()*e.debuffs.getDamageAmplification(),r*=e.enemy().ability().getDamageReduction()*e.enemy().buffs.getDamageReduction()},e.damageTotalInfo=ko.pureComputed(function(){var t=[e.ability().getBonusDamage().sources,e.buffs.getBonusDamage().sources],r=[e.ability().getBonusDamagePercent().sources,e.buffs.getBonusDamagePercent().sources],o=e.inventory.getBonusDamage().sources,n=e.buffs.itemBuffs.getBonusDamagePercent(e.inventory.getBonusDamagePercent()).sources,c=e.critInfo(),d=e.ability().getOrbSource(),u=e.inventory.getOrbSource(),i=e.orbProcInfo(),m=e.bashInfo(),s=[];if(s.push({name:"Base Attack",cooldown:1}),"weaver"===e.heroId()){var g=e.ability().abilities().find(function(e){return"weaver_geminate_attack"===e.name});if(g&&g.level()>0){var l=g.cooldown[g.level()-1];s.push({name:g.displayname,cooldown:1/l})}}var p=e.inventory.items().find(function(e){return"echo_sabre"===e.item&&e.enabled()});if(p&&"DOTA_UNIT_CAP_MELEE_ATTACK"===e.heroData().attacktype){var f=a.item_echo_sabre;s.push({name:f.displayname,cooldown:1/f.cooldown})}var y=s.map(function(s){var g=(e.baseDamage()[0]+e.baseDamage()[1])/2,l=0,p=0,f=0,y={damage:0,damageReduced:0,cooldown:6,active:!1},h=({damage:0,damageReduced:0,cooldown:a.item_echo_sabre.cooldown[0],active:!1},{pure:0,physical:0,magic:0}),b=[],v=[];b.push({name:"Base Damage",damage:g,damageType:"physical",damageReduced:e.getReducedDamage(g,"physical"),enabled:ko.observable(!0)}),l+=g,p+=g,h.physical+=g;for(R in o){var k=o[R].damage*o[R].count*e.ability().getSelfBaseDamageReductionPct()*e.enemy().ability().getBaseDamageReductionPct()*e.debuffs.itemBuffs.getBaseDamageReductionPct();b.push({name:o[R].displayname+(o[R].count>1?" x"+o[R].count:""),damage:k,damageType:o[R].damageType,damageReduced:e.getReducedDamage(k,o[R].damageType),enabled:ko.observable(!0)}),l+=k,p+=k,h[o[R].damageType]+=k}for(R in n){var k=g*n[R].damage;b.push({name:n[R].displayname,damage:k,damageType:n[R].damageType,damageReduced:e.getReducedDamage(k,n[R].damageType),enabled:ko.observable(!0)}),l+=k,p+=k,h[n[R].damageType]+=k}for(var R=0;R<t.length;R++)for(A in t[R]){var k=t[R][A].damage;b.push({name:t[R][A].displayname,damage:k,damageType:t[R][A].damageType,damageReduced:e.getReducedDamage(k,t[R][A].damageType),enabled:ko.observable(!0)}),l+=k,p+=k,h[t[R][A].damageType]+=k}for(var R=0;R<r.length;R++)for(A in r[R]){var k=g*r[R][A].damage;b.push({name:r[R][A].displayname,damage:k,damageType:r[R][A].damageType,damageReduced:e.getReducedDamage(k,r[R][A].damageType),enabled:ko.observable(!0)}),l+=k,p+=k,h[r[R][A].damageType]+=k}if("DOTA_UNIT_CAP_RANGED_ATTACK"===e.heroData().attacktype){if("drow_ranger"===e.heroId())var T=e.ability().getBonusDamagePrecisionAura().sources,D=0;else var T=e.buffs.getBonusDamagePrecisionAura().sources,D=1;if(void 0!=T[D]){if("drow_ranger"===e.heroId())var k=T[D].damage*e.totalAgi();else var k=T[D].damage;b.push({name:T[D].displayname,damage:k,damageType:"physical",damageReduced:e.getReducedDamage(k,"physical"),enabled:ko.observable(!0)}),l+=k,p+=k,h.physical+=k}}if("riki"===e.heroId())var T=e.ability().getBonusDamageBackstab().sources,D=0;else var T=e.buffs.getBonusDamageBackstab().sources,D=1;if(void 0!=T[D]){if("riki"===e.heroId())var k=T[D].damage*e.totalAgi();else var k=T[D].damage;b.push({name:T[D].displayname,damage:k,damageType:"physical",damageReduced:e.getReducedDamage(k,"physical"),enabled:ko.observable(!0)}),l+=k,h.physical+=k}for(var R=0;R<m.sources.length;R++){var C=m.sources[R],k=m.sources[R].damage,w=e.attacksPerSecond();C.cooldown&&(w=Math.max(1/C.cooldown,w));for(var A=0;A<m.sources[R].count;A++)b.push({name:m.sources[R].name,damage:k,damageType:m.sources[R].damageType,damageReduced:e.getReducedDamage(k,m.sources[R].damageType),dps:k*w*m.sources[R].chance,dpsReduced:e.getReducedDamage(k,m.sources[R].damageType)*w*m.sources[R].chance,enabled:ko.observable(!0)}),l+=k,h[m.sources[R].damageType]+=k}for(var R=0;R<i.sources.length;R++){var k=i.sources[R].damage*(1-Math.pow(1-i.sources[R].chance,i.sources[R].count));b.push({name:i.sources[R].name,damage:k,damageType:i.sources[R].damageType,damageReduced:e.getReducedDamage(k,i.sources[R].damageType),enabled:ko.observable(!0)}),l+=k,h[i.sources[R].damageType]+=k}for(var P in d){var k=d[P].damage*(1-i.total);b.push({name:d[P].displayname,damage:k,damageType:d[P].damageType,damageReduced:e.getReducedDamage(k,d[P].damageType),enabled:ko.observable(!0)}),l+=k,h[d[P].damageType]+=k}if(0===Object.keys(d).length)for(var P in u){var k=u[P].damage*(1-i.total);b.push({name:u[P].displayname,damage:k,damageType:u[P].damageType,damageReduced:e.getReducedDamage(k,u[P].damageType),enabled:ko.observable(!0)}),l+=k,h[u[P].damageType]+=k}for(var R=0;R<c.sources.length;R++){var k=p*(c.sources[R].multiplier-1);v.push({name:c.sources[R].name+", "+c.sources[R].multiplier+"x, "+(100*c.sources[R].totalChance).toFixed(1)+"%",damage:k,damageType:"physical",damageReduced:e.getReducedDamage(k,"physical"),enabled:ko.observable(!0),chance:c.sources[R].totalChance}),f+=k}var S=e.getReducedDamage(h.pure,"pure")+e.getReducedDamage(h.physical,"physical")+e.getReducedDamage(h.magic,"magic"),B=e.getReducedDamage(f,"physical"),_={base:l*e.attacksPerSecond(),crit:f*e.attacksPerSecond(),geminateAttack:y.active?y.damage/y.cooldown:0,reduced:{base:S*e.attacksPerSecond(),crit:B*e.attacksPerSecond(),geminateAttack:y.active?e.getReducedDamage(y.damage,"physical")/y.cooldown:0}};v.forEach(function(a){a.dps||(a.dps=a.damage*(a.cooldown||e.attacksPerSecond())*a.chance),a.dpsReduced||(a.dpsReduced=a.damageReduced*(a.cooldown||e.attacksPerSecond())*a.chance)}),b.forEach(function(a){a.dps||(a.dps=a.damage*(a.cooldown||e.attacksPerSecond())),a.dpsReduced||(a.dpsReduced=a.damageReduced*(a.cooldown||e.attacksPerSecond()))});var x=v.reduce(function(e,a){return e+a.chance},0),I=ko.computed(function(){var e=v.find(function(e){return e.enabled()});return e?e.damage:0}),M=ko.computed(function(){var e=v.find(function(e){return e.enabled()});return e?e.damageReduced:0}),E=ko.computed(function(){return v.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.dps},0)}),O=ko.computed(function(){return v.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.dpsReduced},0)}),q=ko.computed(function(){return b.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.damage},0)+I()}),G=ko.computed(function(){return b.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.damageReduced},0)+M()}),N=ko.computed(function(){return(b.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.dps},0)+E())*s.cooldown}),H=ko.computed(function(){return(b.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.dpsReduced},0)+O())*s.cooldown}),K=[I,M,E,O],U=[q,G,N,H];return{name:s.name+" Subtotal",cooldown:s.cooldown,enabled:ko.observable(!0),visible:ko.observable(!0),totalCritChance:x,totalCritRow:K,totalRow:U,sources:b,sourcesCrit:v,total:l,totalCrit:f,totalGeminateAttack:l+y.damage,totalGeminateAttackReduced:S+y.damageReduced,geminateAttack:y,totalCritReduced:B,totalReduced:S,sumTotal:l+f,sumTotalReduced:S+B,dps:{base:_.base,crit:_.base+_.crit,geminateAttack:_.base+_.geminateAttack,total:_.base+_.crit+_.geminateAttack,reduced:{base:_.reduced.base,crit:_.reduced.base+_.reduced.crit,geminateAttack:_.reduced.base+_.reduced.geminateAttack,total:_.reduced.base+_.reduced.crit+_.reduced.geminateAttack}}}}),h=ko.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.totalRow[0]()},0)}),b=ko.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.totalRow[1]()},0)}),v=ko.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.totalRow[2]()},0)}),k=ko.computed(function(){return y.filter(function(e){return e.enabled()}).reduce(function(e,a){return e+a.totalRow[3]()},0)});return{attacks:y,totalRow:[h,b,v,k]}}),e.getDamageTypeColor=function(e){return DamageTypeColor[e]||DamageTypeColor.default}};module.exports=HeroDamageMixin;
},{"../herocalc_knockout":19,"../util/extend":32,"./DamageTypeColor":8}],10:[function(require,module,exports){
"use strict";var ko=require("../herocalc_knockout"),AbilityModel=require("../AbilityModel"),BuffViewModel=require("../BuffViewModel"),InventoryViewModel=require("../inventory/InventoryViewModel"),diffProperties=require("./diffProperties"),HeroDamageMixin=require("./HeroDamageMixin"),totalExp=require("./totalExp"),nextLevelExp=require("./nextLevelExp"),HeroModel=function(e,t,a){var i=this;i.heroId=ko.observable(a),i.selectedHeroLevel=ko.observable(1),i.inventory=new InventoryViewModel(t,i),i.selectedInventory=ko.observable(-1),i.buffs=new BuffViewModel(t),i.buffs.hasScepter=i.inventory.hasScepter,i.debuffs=new BuffViewModel(t),i.heroData=ko.computed(function(){return e["npc_dota_hero_"+i.heroId()]}),i.heroCompare=ko.observable(i),i.enemy=ko.observable(i),i.unit=ko.observable(i),i.clone=ko.observable(i),i.skillPointHistory=ko.observableArray(),i.ability=ko.computed(function(){var e=new AbilityModel(ko.observableArray(JSON.parse(JSON.stringify(i.heroData().abilities))),i);switch(i.heroId()){case"earth_spirit":case"ogre_magi":e._abilities[3].level(1);break;case"invoker":for(var t=6;t<16;t++)e._abilities[t].level(1)}return i.skillPointHistory.removeAll(),e.hasScepter=i.inventory.hasScepter,e}),i.availableSkillPoints=ko.computed(function(){for(var e=i.selectedHeroLevel(),t=0;t<i.ability().abilities().length;t++)switch(i.ability().abilities()[t].abilitytype){case"DOTA_ABILITY_TYPE_ULTIMATE":if("invoker"===i.heroId())for(;1==i.ability().abilities()[t].level()&&parseInt(i.selectedHeroLevel())<2||2==i.ability().abilities()[t].level()&&parseInt(i.selectedHeroLevel())<7||3==i.ability().abilities()[t].level()&&parseInt(i.selectedHeroLevel())<11||4==i.ability().abilities()[t].level()&&parseInt(i.selectedHeroLevel())<17;)i.ability().levelDownAbility(t,null,null,i);else if("meepo"===i.heroId())for(;7*(i.ability().abilities()[t].level()-1)+3>parseInt(i.selectedHeroLevel());)i.ability().levelDownAbility(t,null,null,i);else for(;5*i.ability().abilities()[t].level()+1>parseInt(i.selectedHeroLevel());)i.ability().levelDownAbility(t,null,null,i);break;default:for(;2*i.ability().abilities()[t].level()-1>parseInt(i.selectedHeroLevel());)i.ability().levelDownAbility(t,null,null,i)}for(;i.skillPointHistory().length>e;)i.ability().levelDownAbility(i.skillPointHistory()[i.skillPointHistory().length-1],null,null,i);return e-i.skillPointHistory().length},this),i.primaryAttribute=ko.pureComputed(function(){var e=i.heroData().attributeprimary;return"DOTA_ATTRIBUTE_AGILITY"===e?"agi":"DOTA_ATTRIBUTE_INTELLECT"===e?"int":"DOTA_ATTRIBUTE_STRENGTH"===e?"str":""}),i.totalExp=ko.pureComputed(function(){return totalExp[i.selectedHeroLevel()-1]}),i.nextLevelExp=ko.pureComputed(function(){return nextLevelExp[i.selectedHeroLevel()-1]}),i.startingArmor=ko.pureComputed(function(){return(.14*i.heroData().attributebaseagility+i.heroData().armorphysical).toFixed(2)}),i.respawnTime=ko.pureComputed(function(){return 5+3.8*i.selectedHeroLevel()}),i.totalAttribute=function(e){return"agi"===e?parseFloat(i.totalAgi()):"int"===e?parseFloat(i.totalInt()):"str"===e?parseFloat(i.totalStr()):0},i.totalAgi=ko.pureComputed(function(){return(i.heroData().attributebaseagility+i.heroData().attributeagilitygain*(i.selectedHeroLevel()-1)+i.inventory.getAttributes("agi")+2*i.ability().getAttributeBonusLevel()+i.ability().getAgility()+i.enemy().ability().getAllStatsReduction()+i.debuffs.getAllStatsReduction()).toFixed(2)}),i.intStolen=ko.observable(0).extend({numeric:0}),i.totalInt=ko.pureComputed(function(){return(i.heroData().attributebaseintelligence+i.heroData().attributeintelligencegain*(i.selectedHeroLevel()-1)+i.inventory.getAttributes("int")+2*i.ability().getAttributeBonusLevel()+i.ability().getIntelligence()+i.enemy().ability().getAllStatsReduction()+i.debuffs.getAllStatsReduction()+i.intStolen()).toFixed(2)}),i.totalStr=ko.pureComputed(function(){return(i.heroData().attributebasestrength+i.heroData().attributestrengthgain*(i.selectedHeroLevel()-1)+i.inventory.getAttributes("str")+2*i.ability().getAttributeBonusLevel()+i.ability().getStrength()+i.enemy().ability().getStrengthReduction()+i.enemy().ability().getAllStatsReduction()+i.debuffs.getAllStatsReduction()).toFixed(2)}),i.health=ko.pureComputed(function(){return(i.heroData().statushealth+20*Math.floor(i.totalStr())+i.inventory.getHealth()+i.ability().getHealth()).toFixed(2)}),i.healthregen=ko.pureComputed(function(){var e=[i.inventory.getHealthRegenAura,i.buffs.itemBuffs.getHealthRegenAura].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return(i.heroData().statushealthregen+.03*i.totalStr()+i.inventory.getHealthRegen()+i.ability().getHealthRegen()+i.buffs.getHealthRegen()+e.value).toFixed(2)}),i.mana=ko.pureComputed(function(){return(i.heroData().statusmana+12*i.totalInt()+i.inventory.getMana()+i.ability().getMana()).toFixed(2)}),i.manaregen=ko.pureComputed(function(){return((i.heroData().statusmanaregen+.04*i.totalInt()+i.ability().getManaRegen())*(1+i.inventory.getManaRegenPercent())+("crystal_maiden"===i.heroId()?2*i.ability().getManaRegenArcaneAura():i.buffs.getManaRegenArcaneAura())+i.inventory.getManaRegenBloodstone()+i.inventory.getManaRegen()-i.enemy().ability().getManaRegenReduction()).toFixed(2)}),i.totalArmorPhysical=ko.pureComputed(function(){var e=[i.inventory.getArmorAura,i.buffs.itemBuffs.getArmorAura].reduce(function(e,t){var a=t(e.attributes);return a},{value:0,attributes:[]}),t=[i.enemy().inventory.getArmorReduction,i.debuffs.itemBuffs.getArmorReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return(i.enemy().ability().getArmorBaseReduction()*i.debuffs.getArmorBaseReduction()*(i.heroData().armorphysical+.14*i.totalAgi())+i.inventory.getArmor()+i.ability().getArmor()+i.enemy().ability().getArmorReduction()+i.buffs.getArmor()+i.buffs.itemBuffs.getArmor()+i.debuffs.getArmorReduction()+e.value+t.value).toFixed(2)}),i.totalArmorPhysicalReduction=ko.pureComputed(function(){var e=i.totalArmorPhysical();return e>=0?(.06*i.totalArmorPhysical()/(1+.06*i.totalArmorPhysical())*100).toFixed(2):-(.06*-i.totalArmorPhysical()/(1+.06*-i.totalArmorPhysical())*100).toFixed(2)}),i.totalMovementSpeed=ko.pureComputed(function(){var e=100,t=i.ability().setMovementSpeed()>0?i.ability().setMovementSpeed():i.buffs.setMovementSpeed();if(t>0)return t;var a=[i.inventory.getMovementSpeedPercent,i.buffs.itemBuffs.getMovementSpeedPercent].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),n=[i.enemy().inventory.getMovementSpeedPercentReduction,i.debuffs.itemBuffs.getMovementSpeedPercentReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});return Math.max(i.enemy().inventory.isSheeped()||i.debuffs.itemBuffs.isSheeped()?140:(i.heroData().movementspeed+i.inventory.getMovementSpeedFlat()+i.ability().getMovementSpeedFlat())*(1+a.value+n.value+i.ability().getMovementSpeedPercent()+i.enemy().ability().getMovementSpeedPercentReduction()+i.buffs.getMovementSpeedPercent()+i.debuffs.getMovementSpeedPercentReduction()+i.unit().ability().getMovementSpeedPercent()),e).toFixed(2)}),i.totalTurnRate=ko.pureComputed(function(){return(i.heroData().movementturnrate*(1+i.enemy().ability().getTurnRateReduction()+i.debuffs.getTurnRateReduction())).toFixed(2)}),i.baseDamage=ko.pureComputed(function(){var e=i.totalAttribute(i.primaryAttribute()),t=i.ability().getBaseDamage(),a=i.heroData().attackdamagemin,n=i.heroData().attackdamagemax;return[Math.floor((a+e+t.total)*i.ability().getSelfBaseDamageReductionPct()*i.enemy().ability().getBaseDamageReductionPct()*i.debuffs.getBaseDamageReductionPct()*i.debuffs.itemBuffs.getBaseDamageReductionPct()*t.multiplier),Math.floor((n+e+t.total)*i.ability().getSelfBaseDamageReductionPct()*i.enemy().ability().getBaseDamageReductionPct()*i.debuffs.getBaseDamageReductionPct()*i.debuffs.itemBuffs.getBaseDamageReductionPct()*t.multiplier)]}),i.baseDamageAvg=ko.pureComputed(function(){return(i.baseDamage()[0]+i.baseDamage()[1])/2}),i.baseDamageMin=ko.pureComputed(function(){return i.baseDamage()[0]}),i.baseDamageMax=ko.pureComputed(function(){return i.baseDamage()[1]}),i.bonusDamage=ko.pureComputed(function(){return(i.inventory.getBonusDamage().total+i.ability().getBonusDamage().total+i.buffs.getBonusDamage().total+Math.floor((i.baseDamage()[0]+i.baseDamage()[1])/2*(i.buffs.itemBuffs.getBonusDamagePercent(i.inventory.getBonusDamagePercent()).total+i.ability().getBonusDamagePercent().total+i.buffs.getBonusDamagePercent().total))+Math.floor("DOTA_UNIT_CAP_RANGED_ATTACK"==i.heroData().attacktype?"drow_ranger"==i.heroId()?i.ability().getBonusDamagePrecisionAura().total[0]*i.totalAgi():i.buffs.getBonusDamagePrecisionAura().total[1]:0)+Math.floor("riki"==i.heroId()?i.ability().getBonusDamageBackstab().total[0]*i.totalAgi():0))*i.ability().getSelfBaseDamageReductionPct()*i.enemy().ability().getBaseDamageReductionPct()*i.debuffs.itemBuffs.getBaseDamageReductionPct()}),i.bonusDamageReduction=ko.pureComputed(function(){return Math.abs(i.enemy().ability().getBonusDamageReduction()+i.debuffs.getBonusDamageReduction())}),i.damageAvg=ko.pureComputed(function(){return(i.baseDamage()[0]+i.baseDamage()[1])/2+i.bonusDamage()}),i.damageMin=ko.pureComputed(function(){return i.baseDamage()[0]+i.bonusDamage()}),i.damageMax=ko.pureComputed(function(){return i.baseDamage()[1]+i.bonusDamage()}),i.damage=ko.pureComputed(function(){return[i.baseDamage()[0]+i.bonusDamage(),i.baseDamage()[1]+i.bonusDamage()]}),i.totalMagicResistanceProduct=ko.pureComputed(function(){return(1-i.heroData().magicalresistance/100)*i.inventory.getMagicResist()*i.ability().getMagicResist()*i.buffs.getMagicResist()*i.inventory.getMagicResistReductionSelf()*i.enemy().inventory.getMagicResistReduction()*i.enemy().ability().getMagicResistReduction()*i.debuffs.getMagicResistReduction()*i.debuffs.itemBuffs.getMagicResistReduction()}),i.totalMagicResistance=ko.pureComputed(function(){return(100*(1-i.totalMagicResistanceProduct())).toFixed(2)}),i.bat=ko.pureComputed(function(){var e=i.ability().getBAT();return e>0?e:i.heroData().attackrate}),i.ias=ko.pureComputed(function(){var e=[i.inventory.getAttackSpeed,i.buffs.itemBuffs.getAttackSpeed].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),t=[i.enemy().inventory.getAttackSpeedReduction,i.debuffs.itemBuffs.getAttackSpeedReduction].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]}),a=parseFloat(i.totalAgi())+e.value+t.value+i.ability().getAttackSpeed()+i.enemy().ability().getAttackSpeedReduction()+i.buffs.getAttackSpeed()+i.debuffs.getAttackSpeedReduction()+i.unit().ability().getAttackSpeed();return a<-80?-80:a>500?500:a.toFixed(2)}),i.attackTime=ko.pureComputed(function(){return(i.bat()/(1+i.ias()/100)).toFixed(2)}),i.attacksPerSecond=ko.pureComputed(function(){return((1+i.ias()/100)/i.bat()).toFixed(2)}),i.evasion=ko.pureComputed(function(){if(i.enemy().inventory.isSheeped()||i.debuffs.itemBuffs.isSheeped())return 0;var e=i.ability().setEvasion();return e?(100*e).toFixed(2):(100*(1-i.inventory.getEvasion()*i.ability().getEvasion()*i.ability().getEvasionBacktrack()*i.buffs.itemBuffs.getEvasion())).toFixed(2)}),i.ehpPhysical=ko.pureComputed(function(){var e=i.enemy().inventory.isSheeped()||i.debuffs.itemBuffs.isSheeped()?1:i.inventory.getEvasion()*i.ability().getEvasion()*i.buffs.itemBuffs.getEvasion();if(i.totalArmorPhysical()>=0)var t=i.health()*(1+.06*i.totalArmorPhysical());else var t=i.health()*(1-.06*i.totalArmorPhysical())/(1-.12*i.totalArmorPhysical());return t/=1-(1-e*i.ability().getEvasionBacktrack()),t/=1-parseFloat(i.enemy().missChance())/100,t*=i.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,t*=1/i.ability().getDamageReduction(),t*=1/i.buffs.getDamageReduction(),t*=1/i.enemy().ability().getDamageAmplification(),t*=1/i.debuffs.getDamageAmplification(),t.toFixed(2)}),i.ehpMagical=ko.pureComputed(function(){var e=i.health()/i.totalMagicResistanceProduct();return e*=i.inventory.activeItems().some(function(e){return"mask_of_madness"==e.item})?1/1.3:1,e*=1/i.ability().getDamageReduction(),e*=1/i.buffs.getDamageReduction(),e*=1/i.ability().getEvasionBacktrack(),e*=1/i.enemy().ability().getDamageAmplification(),e*=1/i.debuffs.getDamageAmplification(),e.toFixed(2)}),i.bash=ko.pureComputed(function(){var e=i.heroData().attacktype;return(100*(1-i.inventory.getBash(e)*i.ability().getBash())).toFixed(2)}),i.critChance=ko.pureComputed(function(){return(100*(1-i.inventory.getCritChance()*i.ability().getCritChance())).toFixed(2)}),HeroDamageMixin(i,t),i.missChance=ko.pureComputed(function(){var e=[i.enemy().inventory.getMissChance,i.debuffs.itemBuffs.getMissChance].reduce(function(e,t){var a=t(e.excludeList);return a.value*=e.value,a},{value:1,excludeList:[]});return(100*(1-i.enemy().ability().getMissChance()*i.debuffs.getMissChance()*e.value)).toFixed(2)}),i.totalattackrange=ko.pureComputed(function(){var e=i.heroData().attacktype;return i.heroData().attackrange+i.ability().getAttackRange()+i.inventory.getAttackRange(e).value}),i.visionrangeday=ko.pureComputed(function(){return i.heroData().visiondaytimerange*(1+i.enemy().ability().getVisionRangePctReduction()+i.debuffs.getVisionRangePctReduction())}),i.visionrangenight=ko.pureComputed(function(){return(i.heroData().visionnighttimerange+i.inventory.getVisionRangeNight()+i.ability().getVisionRangeNight())*(1+i.enemy().ability().getVisionRangePctReduction()+i.debuffs.getVisionRangePctReduction())}),i.lifesteal=ko.pureComputed(function(){var e=i.inventory.getLifesteal()+i.ability().getLifesteal()+i.buffs.getLifesteal();if("DOTA_UNIT_CAP_MELEE_ATTACK"==i.heroData().attacktype){var t=[i.inventory.getLifestealAura,i.buffs.itemBuffs.getLifestealAura].reduce(function(e,t){var a=t(e.excludeList);return a.value+=e.value,a},{value:0,excludeList:[]});e+=t.value}return e.toFixed(2)}),i.diffProperties=diffProperties,i.diff={};for(var n=0;n<i.diffProperties.length;n++){var o=n;i.diff[i.diffProperties[o]]=i.getDiffFunction(i.diffProperties[o])}};HeroModel.prototype.getDiffFunction=function(e){var t=this;return ko.computed(function(){return"baseDamage"==e?[t[e]()[0]-t.heroCompare()[e]()[0],t[e]()[1]-t.heroCompare()[e]()[1]]:t[e]()-t.heroCompare()[e]()},this,{deferEvaluation:!0})},HeroModel.prototype.getAbilityLevelMax=function(e){return"DOTA_ABILITY_TYPE_ATTRIBUTES"===e.abilitytype?10:"invoker_quas"===e.name||"invoker_wex"===e.name||"invoker_exort"===e.name?7:"invoker_invoke"===e.name?4:"earth_spirit_stone_caller"===e.name||"ogre_magi_unrefined_fireblast"===e.name?1:"DOTA_ABILITY_TYPE_ULTIMATE"===e.abilitytype||"keeper_of_the_light_recall"===e.name||"keeper_of_the_light_blinding_light"===e.name||"ember_spirit_activate_fire_remnant"===e.name||"lone_druid_true_form_battle_cry"===e.name?3:"puck_ethereal_jaunt"===e.name||"shadow_demon_shadow_poison_release"===e.name||"templar_assassin_trap"===e.name||"spectre_reality"===e.name?0:"invoker_cold_snap"===e.name||"invoker_ghost_walk"===e.name||"invoker_tornado"===e.name||"invoker_emp"===e.name||"invoker_alacrity"===e.name||"invoker_chaos_meteor"===e.name||"invoker_sun_strike"===e.name||"invoker_forge_spirit"===e.name||"invoker_ice_wall"===e.name||"invoker_deafening_blast"===e.name?0:"techies_minefield_sign"===e.name||"techies_focused_detonate"===e.name?0:4},module.exports=HeroModel;
},{"../AbilityModel":1,"../BuffViewModel":2,"../herocalc_knockout":19,"../inventory/InventoryViewModel":22,"./HeroDamageMixin":9,"./diffProperties":14,"./nextLevelExp":16,"./totalExp":17}],11:[function(require,module,exports){
var HeroOption=function(o,e,i){this.heroName=o,this.heroDisplayName=e,this.hero=i};module.exports=HeroOption;
},{}],12:[function(require,module,exports){
"use strict";var HeroModel=require("./HeroModel"),illusionData=require("../illusion/illusionData"),findWhere=require("../util/findWhere"),IllusionModel=function(t,e,i,a,l){var o=this;return HeroModel.call(this,t,e,i),o.illusionAbilityLevel=ko.observable(l),o.parent=a,o.totalAgi=ko.computed(function(){return(o.heroData().attributebaseagility+o.heroData().attributeagilitygain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("agi")+2*o.ability().getAttributeBonusLevel()+o.ability().getAgility()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()).toFixed(2)}),o.intStolen=ko.observable(0).extend({numeric:0}),o.totalInt=ko.computed(function(){return(o.heroData().attributebaseintelligence+o.heroData().attributeintelligencegain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("int")+2*o.ability().getAttributeBonusLevel()+o.ability().getIntelligence()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()+o.intStolen()).toFixed(2)}),o.totalStr=ko.computed(function(){return(o.heroData().attributebasestrength+o.heroData().attributestrengthgain*(o.selectedHeroLevel()-1)+o.inventory.getAttributes("str")+2*o.ability().getAttributeBonusLevel()+o.ability().getStrength()+o.enemy().ability().getAllStatsReduction()+o.debuffs.getAllStatsReduction()).toFixed(2)}),o.getAbilityAttributeValue=function(i,a,l,o){if("item_manta"==a)var n=e[a];else var n=findWhere(t["npc_dota_hero_"+i].abilities,{name:a});var r=findWhere(n.attributes,{name:l});return 0==o?parseFloat(r.value[0]):o>r.length?parseFloat(r.value[0]):parseFloat(r.value[o-1])},o.getIncomingDamageMultiplier=function(t,e,i){return"item_manta"==t?"DOTA_UNIT_CAP_MELEE_ATTACK"==i?1+o.getAbilityAttributeValue(illusionData[o.illusionType()].hero,o.illusionType(),illusionData[t].incoming_damage_melee,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(illusionData[o.illusionType()].hero,o.illusionType(),illusionData[t].incoming_damage_ranged,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(illusionData[o.illusionType()].hero,o.illusionType(),illusionData[t].incoming_damage,o.illusionAbilityLevel())/100},o.getOutgoingDamageMultiplier=function(t,e,i){return"item_manta"==t?"DOTA_UNIT_CAP_MELEE_ATTACK"==i?1+o.getAbilityAttributeValue(illusionData[o.illusionType()].hero,o.illusionType(),illusionData[t].outgoing_damage_melee,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(illusionData[o.illusionType()].hero,o.illusionType(),illusionData[t].outgoing_damage_ranged,o.illusionAbilityLevel())/100:1+o.getAbilityAttributeValue(illusionData[o.illusionType()].hero,o.illusionType(),illusionData[t].outgoing_damage,o.illusionAbilityLevel())/100},o.baseDamage=ko.computed(function(){return[Math.floor(t["npc_dota_hero_"+o.heroId()].attackdamagemin+o.totalAttribute(o.primaryAttribute())+o.ability().getBaseDamage().total)*o.getOutgoingDamageMultiplier(o.illusionType(),!1,o.heroData().attacktype),Math.floor(t["npc_dota_hero_"+o.heroId()].attackdamagemax+o.totalAttribute(o.primaryAttribute())+o.ability().getBaseDamage().total)*o.getOutgoingDamageMultiplier(o.illusionType(),!1,o.heroData().attacktype)]}),o.damage=ko.computed(function(){return[o.baseDamage()[0],o.baseDamage()[1]]}),o.ehpPhysical=ko.computed(function(){var t=o.health()*(1+.06*o.totalArmorPhysical())/(1-(1-o.inventory.getEvasion()*o.ability().getEvasion()));return t*=o.inventory.activeItems().some(function(t){return"mask_of_madness"==t.item})?1/1.3:1,t*=1/o.getIncomingDamageMultiplier(o.illusionType(),!1,o.heroData().attacktype),t.toFixed(2)}),o.ehpMagical=ko.computed(function(){var t=o.health()/o.totalMagicResistanceProduct();return t*=1/o.getIncomingDamageMultiplier(o.illusionType(),!1,o.heroData().attacktype),t.toFixed(2)}),o.totalArmorPhysical=ko.computed(function(){return(o.enemy().ability().getArmorBaseReduction()*o.debuffs.getArmorBaseReduction()*(t["npc_dota_hero_"+o.heroId()].armorphysical+.14*o.totalAgi())+o.ability().getArmor()+o.enemy().ability().getArmorReduction()+o.buffs.getArmor()+o.debuffs.getArmorReduction()).toFixed(2)}),o.ias=ko.computed(function(){var t=parseFloat(o.totalAgi())+o.ability().getAttackSpeed()+o.enemy().ability().getAttackSpeedReduction()+o.buffs.getAttackSpeed()+o.debuffs.getAttackSpeedReduction()+o.unit().ability().getAttackSpeed();return t<-80?-80:t>400?400:t.toFixed(2)}),o};IllusionModel.prototype=Object.create(HeroModel.prototype),IllusionModel.prototype.constructor=IllusionModel,module.exports=IllusionModel;
},{"../illusion/illusionData":20,"../util/findWhere":33,"./HeroModel":10}],13:[function(require,module,exports){
"use strict";var ko=require("../herocalc_knockout"),AbilityModel=require("../AbilityModel"),HeroModel=require("./HeroModel"),unitData=require("../data/main").unitData,UnitModel=function(t,e,i,a){var n=this;return HeroModel.call(this,t,e,"abaddon"),n.parent=a,n.unitId=ko.observable(i),n.unitLevel=ko.observable(1),n.heroData=ko.computed(function(){return unitData[n.unitId()]}),n.getAbilityLevelMax=function(t){return"DOTA_ABILITY_TYPE_ATTRIBUTES"==t.abilitytype?10:"necronomicon_archer_mana_burn"==t.name||"necronomicon_archer_aoe"==t.name||"necronomicon_warrior_mana_burn"==t.name||"necronomicon_warrior_last_will"==t.name?3:"necronomicon_warrior_sight"==t.name?1:4},n.availableSkillPoints.dispose(),n.ability=ko.computed(function(){var t=new AbilityModel(ko.observableArray(JSON.parse(JSON.stringify(n.heroData().abilities))),n);switch(t.hasScepter=n.inventory.hasScepter,n.unitId()){case"npc_dota_necronomicon_archer_1":case"npc_dota_necronomicon_warrior_1":t.abilities()[0].level(1),t.abilities()[1].level(1);break;case"npc_dota_necronomicon_archer_2":case"npc_dota_necronomicon_warrior_2":t.abilities()[0].level(2),t.abilities()[1].level(2);break;case"npc_dota_necronomicon_archer_3":t.abilities()[0].level(3),t.abilities()[1].level(3);break;case"npc_dota_necronomicon_warrior_3":t.abilities()[0].level(3),t.abilities()[1].level(3),t.abilities()[2].level(1)}return t.levelUpAbility=function(e,i,a,n){var o=ko.utils.unwrapObservable(e);switch(t.abilities()[o].name){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:t.abilities()[o].level()<n.getAbilityLevelMax(i)&&t.abilities()[o].level(t.abilities()[o].level()+1)}},t.levelDownAbility=function(e,i,a,n){var o=ko.utils.unwrapObservable(e);switch(t.abilities()[o].name){case"necronomicon_archer_mana_burn":case"necronomicon_archer_aoe":case"necronomicon_warrior_mana_burn":case"necronomicon_warrior_last_will":case"necronomicon_warrior_sight":break;default:t.abilities()[o].level()>0&&t.abilities()[o].level(t.abilities()[o].level()-1)}},t}),n.primaryAttribute=ko.computed(function(){var t=0;return"DOTA_ATTRIBUTE_AGILITY"==t?"agi":"DOTA_ATTRIBUTE_INTELLECT"==t?"int":"DOTA_ATTRIBUTE_STRENGTH"==t?"str":""}),n.totalAttribute=function(t){return"agi"==t?parseFloat(n.totalAgi()):"int"==t?parseFloat(n.totalInt()):"str"==t?parseFloat(n.totalStr()):0},n.totalAgi=ko.computed(function(){return(unitData[n.unitId()].attributebaseagility+unitData[n.unitId()].attributeagilitygain*(n.selectedHeroLevel()-1)+2*n.ability().getAttributeBonusLevel()+n.ability().getAgility()+n.enemy().ability().getAllStatsReduction()+n.debuffs.getAllStatsReduction()).toFixed(2)}),n.totalInt=ko.computed(function(){return(unitData[n.unitId()].attributebaseintelligence+unitData[n.unitId()].attributeintelligencegain*(n.selectedHeroLevel()-1)+2*n.ability().getAttributeBonusLevel()+n.ability().getIntelligence()+n.enemy().ability().getAllStatsReduction()+n.debuffs.getAllStatsReduction()).toFixed(2)}),n.totalStr=ko.computed(function(){return(unitData[n.unitId()].attributebasestrength+unitData[n.unitId()].attributestrengthgain*(n.selectedHeroLevel()-1)+2*n.ability().getAttributeBonusLevel()+n.ability().getStrength()+n.enemy().ability().getAllStatsReduction()+n.debuffs.getAllStatsReduction()).toFixed(2)}),n.baseDamage=ko.computed(function(){return[Math.floor(unitData[n.unitId()].attackdamagemin+n.totalAttribute(n.primaryAttribute())+n.ability().getBaseDamage().total),Math.floor(unitData[n.unitId()].attackdamagemax+n.totalAttribute(n.primaryAttribute())+n.ability().getBaseDamage().total)]}),n.totalMagicResistanceProduct=ko.computed(function(){return(1-unitData[n.unitId()].magicalresistance/100)*(1-n.inventory.getMagicResist()/100)*(1-n.ability().getMagicResist()/100)*(1-n.buffs.getMagicResist()/100)*n.enemy().inventory.getMagicResistReduction()*n.enemy().ability().getMagicResistReduction()*n.debuffs.getMagicResistReduction()}),n.totalMagicResistance=ko.computed(function(){return 1-n.totalMagicResistanceProduct()}),n.bat=ko.computed(function(){var t=n.ability().getBAT();return t>0?t:unitData[n.unitId()].attackrate}),n.attackTime=ko.computed(function(){return(n.bat()/(1+n.ias()/100)).toFixed(2)}),n.attacksPerSecond=ko.computed(function(){return(1+n.ias()/100)/n.bat()}),n.evasion=ko.computed(function(){var t=n.ability().setEvasion();return t?(100*t).toFixed(2)+"%":(100*(1-n.inventory.getEvasion()*n.ability().getEvasion())).toFixed(2)+"%"}),n.ehpPhysical=ko.computed(function(){return(n.health()*(1+.06*n.totalArmorPhysical())/(1-(1-n.inventory.getEvasion()*n.ability().getEvasion()))).toFixed(2)}),n.ehpMagical=ko.computed(function(){return(n.health()/n.totalMagicResistanceProduct()).toFixed(2)}),n.heroId(i),n.unitId.subscribe(function(t){n.heroId(t)}),n};UnitModel.prototype=Object.create(HeroModel.prototype),UnitModel.prototype.constructor=UnitModel,module.exports=UnitModel;
},{"../AbilityModel":1,"../data/main":6,"../herocalc_knockout":19,"./HeroModel":10}],14:[function(require,module,exports){
var diffProperties=["totalAgi","totalInt","totalStr","health","healthregen","mana","manaregen","totalArmorPhysical","totalArmorPhysicalReduction","totalMovementSpeed","totalTurnRate","baseDamage","bonusDamage","bonusDamageReduction","damage","totalMagicResistanceProduct","totalMagicResistance","bat","ias","attackTime","attacksPerSecond","evasion","ehpPhysical","ehpMagical","bash","critChance","missChance","totalattackrange","visionrangeday","visionrangenight","lifesteal"];module.exports=diffProperties;
},{}],15:[function(require,module,exports){
var HeroOption=require("./HeroOption"),heroOptionsArray={},init=function(r){heroOptionsArray.items=[];for(var o in r)heroOptionsArray.items.push(new HeroOption(o.replace("npc_dota_hero_",""),r[o].displayname));return heroOptionsArray.items};heroOptionsArray.init=init,module.exports=heroOptionsArray;
},{"./HeroOption":11}],16:[function(require,module,exports){
var nextLevelExp=[200,300,400,500,600,600,800,1e3,1e3,600,2200,800,1400,1500,1600,1700,1800,1900,2e3,2100,2200,2300,2400,2500,"&mdash;"];module.exports=nextLevelExp;
},{}],17:[function(require,module,exports){
var totalExp=[0,200,500,900,1400,2e3,2600,3400,4400,5400,6e3,8200,9e3,10400,11900,13500,15200,17e3,18900,20900,23e3,25200,27500,29900,32400];module.exports=totalExp;
},{}],18:[function(require,module,exports){
var abilityData={alchemist_acid_spray:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"armor_reduction",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return-e},returnProperty:"armorReduction"}],alchemist_unstable_concoction:[{label:"Brew Time",controlType:"input"},{attributeName:"max_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e/5}},{attributeName:"max_stun",label:"Total Stun",controlType:"text",fn:function(t,e,r,a,n,o){return t*e/5}}],ancient_apparition_cold_feet:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"stun_duration",label:"Total Stun",controlType:"text",fn:function(t,e,r,a,n,o){return e}}],ancient_apparition_ice_blast:[{label:"Duration",controlType:"input"},{attributeName:"dot_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")+t*e}}],antimage_mana_void:[{label:"Enemy Missing Mana",controlType:"input"},{attributeName:"mana_void_damage_per_mana",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],axe_battle_hunger:[{label:"Battle Hungered Enemies",controlType:"input"},{attributeName:"speed_bonus",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(t,e,r,a,n,o){return t*e},returnProperty:"movementSpeedPct"},{attributeName:"slow",label:"Movement Speed Bonus",controlType:"text",noLevel:!0,fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],bane_nightmare:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],bane_fiends_grip:[{label:"Duration",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"fiend_grip_damage",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return r.inventory.hasScepter()?t[0]*n.getAbilityAttributeValue(o.attributes,"fiend_grip_damage_scepter",o.level()):t[0]*e}},{attributeName:"fiend_grip_mana_drain",label:"Total Mana Drain",controlType:"text",controls:[0,1],noLevel:!0,fn:function(t,e,r,a,n,o){return r.inventory.hasScepter()?t[0]*t[1]*n.getAbilityAttributeValue(o.attributes,"fiend_grip_mana_drain_scepter",o.level())/100:t[0]*t[1]*e/100}}],batrider_sticky_napalm:[{label:"Stacks",controlType:"input"},{attributeName:"damage",label:"Total Bonus Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusDamage"},{attributeName:"movement_speed_pct",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"movementSpeedPctReduction"},{attributeName:"turn_rate_pct",label:"Enemy Turn Rate Slow",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"turnRateReduction"}],batrider_firefly:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],bloodseeker_rupture:[{label:"Enemy Distance Traveled",controlType:"input"},{attributeName:"movement_damage_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")+t*e/100}}],bristleback_viscous_nasal_goo:[{label:"Stacks",controlType:"input"},{attributeName:"armor_per_stack",label:"Enemy Armor Reduction",controlType:"text",fn:function(t,e,r,a,n,o){return-t*e},returnProperty:"armorReduction"},{attributeName:"move_slow_per_stack",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return-(n.getAbilityAttributeValue(o.attributes,"base_move_slow",0)+t*e)},returnProperty:"movementSpeedPctReduction"}],bristleback_quill_spray:[{label:"Stacks",controlType:"input"},{attributeName:"quill_stack_damage",label:"DAMAGE",controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"quill_base_damage",o.level())+t*e,i=n.getAbilityAttributeValue(o.attributes,"max_damage",0);return l>i&&(l=i),l}}],bristleback_bristleback:[{label:"Damage From",controlType:"radio",controlValueType:"string",controlOptions:[{text:"Back",value:"back"},{text:"Side",value:"side"}]},{attributeName:"back_damage_reduction",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var o=n.abilities().find(function(t){return"bristleback_bristleback"==t.name});if("back"==t)var l=n.getAbilityAttributeValue(o.attributes,"back_damage_reduction",o.level());else var l=n.getAbilityAttributeValue(o.attributes,"side_damage_reduction",o.level());return-l},returnProperty:"damageReduction"}],bristleback_warpath:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"BONUS DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t<1?0:n.getAbilityAttributeValue(o.attributes,"base_damage",o.level())+(t-1)*e}},{attributeName:"move_speed_per_stack",label:"%MOVEMENT:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t<1?0:n.getAbilityAttributeValue(o.attributes,"base_move_speed",o.level())+(t-1)*e},returnProperty:"movementSpeedPct"}],centaur_return:[{label:"Strength",controlType:"input"},{attributeName:"strength_pct",label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"return_damage",o.level())+t*e/100}}],centaur_stampede:[{label:"Strength",controlType:"input"},{attributeName:"strength_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(t,e,r,a,n,o){return-e},returnProperty:"movementSpeedPctReduction"}],clinkz_death_pact:[{label:"Consumed Unit HP",controlType:"input"},{attributeName:"damage_gain_pct",label:"BASE DAMAGE GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100},returnProperty:"baseDamage"},{attributeName:"health_gain_pct",label:"HEALTH GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100},returnProperty:"bonusHealth"}],crystal_maiden_frostbite:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],dark_seer_ion_shell:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],dazzle_shadow_wave:[{label:"Targets",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],dazzle_weave:[{label:"Duration",controlType:"input"},{attributeName:"armor_per_second",label:"ARMOR",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"armor"},{attributeName:"armor_per_second",label:"ARMOR REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return-t*e},returnProperty:"armorReduction"}],death_prophet_exorcism:[{label:"Damage Dealt",controlType:"input"},{attributeName:"heal_percent",label:"Total Armor",controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100}}],disruptor_static_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){var l=.25*(130+40*o.level())*.05,i=4*t*(4*t+1)/2;return l*i}}],doom_bringer_scorched_earth:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"bonus_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPct"},{attributeName:"damage_per_second",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"healthregen"}],doom_bringer_doom:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return r.inventory.hasScepter()?t*n.getAbilityAttributeValue(o.attributes,"damage_scepter",o.level()):t*e}}],dragon_knight_elder_dragon_form:[{label:"Duration",controlType:"input"},{attributeName:"bonus_attack_range",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackrange"},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedFlat"}],drow_ranger_trueshot:[{label:"Drow's Agility",controlType:"input",display:"buff"},{attributeName:"trueshot_ranged_damage",label:"DAMAGE BONUS:",ignoreTooltip:!0,controlType:"text",display:"buff",fn:function(t,e,r,a,n,o){return t*e/100},returnProperty:"bonusDamagePrecisionAura"}],earth_spirit_rolling_boulder:[{label:"Using Stone",controlType:"checkbox"},{attributeName:"move_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t?-e:0},returnProperty:"movementSpeedPctReduction"}],earthshaker_enchant_totem:[{label:"Activated",controlType:"checkbox"},{attributeName:"totem_damage_percentage",label:"DAMAGE",controlType:"text",fn:function(t,e,r,a,n,o){return t?e:0},returnProperty:"baseDamageMultiplier"}],earthshaker_echo_slam:[{label:"Enemies in Range",controlType:"input"},{attributeName:"echo_slam_echo_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],elder_titan_ancestral_spirit:[{label:"HEROES PASSED THROUGH",controlType:"input"},{label:"CREEPS PASSED THROUGH",controlType:"input"},{attributeName:"damage_creeps",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[0]*n.getAbilityAttributeValue(o.attributes,"damage_heroes",o.level())+t[1]*e},returnProperty:"bonusDamage"},{attributeName:"move_pct_creeps",label:"%BONUS SPEED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[0]*n.getAbilityAttributeValue(o.attributes,"move_pct_heroes",o.level())+t[1]*e},returnProperty:"movementSpeedPct"}],elder_titan_earth_splitter:[{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100}},{attributeName:"slow_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return-e},returnProperty:"movementSpeedPctReduction"}],enchantress_natures_attendants:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"wisp_count",o.level())*t*e}}],enigma_malefice:[{label:"Hits",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"stun_duration",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],enigma_midnight_pulse:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"damage_percent",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[0]*t[1]*e/100}}],enigma_black_hole:[{label:"Duration",controlType:"input"},{attributeName:"far_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"near_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],faceless_void_time_lock:[{label:"In Chronosphere",controlType:"checkbox"},{attributeName:"bonus_damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(t,e,r,a,n,o){return t?2*e:e},returnProperty:"bashBonusDamage"},{attributeName:"duration",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e}},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"bash"}],gyrocopter_rocket_barrage:[{label:"Rockets",controlType:"input"},{attributeName:"rockets_per_second",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e}},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],huskar_burning_spear:[{label:"Stacks",controlType:"input"},{attributeName:"health_cost",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],huskar_berserkers_blood:[{label:"%HP",controlType:"input"},{attributeName:"hp_threshold_max",label:"Health at given %HP:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return r.health()*t/100}},{attributeName:"hp_threshold_max",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e}},{attributeName:"maximum_resistance",label:"MAGIC RESISTANCE BONUS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var t=Math.min(t,100);t=Math.max(t,10);var l=n.getAbilityAttributeValue(o.attributes,"hp_threshold_max",0),i=100-l,u=(t-l)/i;return u=1-u,u*e},returnProperty:"magicResist"},{attributeName:"maximum_attack_speed",label:"ATTACK SPEED BONUS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var t=Math.min(t,100);t=Math.max(t,10);var l=n.getAbilityAttributeValue(o.attributes,"hp_threshold_max",0),i=100-l,u=(t-l)/i;return u=1-u,u*e},returnProperty:"attackspeed"}],huskar_life_break:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"health_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{label:"Huskar Current HP",controlType:"input"},{attributeName:"health_cost_percent",label:"DAMAGE TAKEN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],invoker_quas:[{label:"Instances",controlType:"input"},{attributeName:"bonus_strength",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"bonusStrength"},{attributeName:"health_regen_per_instance",label:"HP REGEN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"healthregen"}],invoker_wex:[{label:"Instances",controlType:"input"},{attributeName:"bonus_agility",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"bonusAgility"},{attributeName:"move_speed_per_instance",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"movementSpeedPct"},{attributeName:"attack_speed_per_instance",label:"%ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"attackspeed"}],invoker_exort:[{label:"Instances",controlType:"input"},{attributeName:"bonus_intelligence",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"bonusInt"},{attributeName:"bonus_damage_per_instance",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusDamage"}],invoker_ghost_walk:[{label:"Quas Level",controlType:"input"},{attributeName:"enemy_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return 0==t?0:n.getAbilityAttributeValue(o.attributes,"enemy_slow",t)},returnProperty:"movementSpeedPctReduction"},{label:"Wex Level",controlType:"input",display:"ability"},{attributeName:"self_slow",label:"Total Damage",controlType:"text",display:"ability",fn:function(t,e,r,a,n,o){return 0==t?0:n.getAbilityAttributeValue(o.attributes,"self_slow",t)},returnProperty:"movementSpeedPct"}],invoker_alacrity:[{label:"Wex Level",controlType:"input"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return 0==t?0:n.getAbilityAttributeValue(o.attributes,"bonus_attack_speed",t)},returnProperty:"attackspeed"},{label:"Exort Level",controlType:"input"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return 0==t?0:n.getAbilityAttributeValue(o.attributes,"bonus_damage",t)},returnProperty:"bonusDamage"}],invoker_ice_wall:[{label:"Quas Level",controlType:"input"},{attributeName:"slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return 0==t?0:n.getAbilityAttributeValue(o.attributes,"slow",t)},returnProperty:"movementSpeedPctReduction"},{label:"Exort Level",controlType:"input",display:"ability"},{label:"Duration",controlType:"input",display:"ability"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",display:"ability",controls:[1,2],fn:function(t,e,r,a,n,o){return 0==t[0]?0:n.getAbilityAttributeValue(o.attributes,"damage_per_second",t[0])*t[1]}}],jakiro_dual_breath:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return 2*n.getAbilityPropertyValue(o,"damage")+n.getAbilityAttributeValue(o.attributes,"burn_damage",o.level())*t}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed_pct",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"}],jakiro_liquid_fire:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"slow_attack_speed_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"}],jakiro_macropyre:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],juggernaut_blade_fury:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],juggernaut_healing_ward:[{label:"Duration",controlType:"input"},{label:"Max Health",controlType:"input"},{attributeName:"healing_ward_heal_amount",label:"HEAL OVER TIME:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[0]*t[1]*e/100}}],juggernaut_omni_slash:[{label:"Jumps",controlType:"input"},{label:"MIN DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"omni_slash_damage",1)*t}},{label:"MAX DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"omni_slash_damage",2)*t}}],keeper_of_the_light_illuminate:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],keeper_of_the_light_mana_leak:[{label:"Distance Moved",controlType:"input"},{label:"Enemy Max Mana",controlType:"input"},{attributeName:"mana_leak_pct",label:"MANA LEAKED:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[0]/100*t[1]*e/100}}],legion_commander_duel:[{label:"Duel Wins",controlType:"input"},{attributeName:"reward_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusDamage"}],leshrac_pulse_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"mana_cost_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],lich_chain_frost:[{label:"Bounce Hits",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"slow_attack_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"}],life_stealer_feast:[{label:"Enemy Current HP",controlType:"input"},{attributeName:"hp_leech_percent",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100},returnProperty:"bonusDamage"}],life_stealer_open_wounds:[{label:"Duration",controlType:"input"},{attributeName:"heal_percent",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"lifesteal"},{attributeName:"slow_steps",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"slow_steps",t+1)},returnProperty:"movementSpeedPctReduction"}],lina_fiery_soul:[{label:"Duration",controlType:"input"},{attributeName:"fiery_soul_move_speed_bonus",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"movementSpeedPct"},{attributeName:"fiery_soul_attack_speed_bonus",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"attackspeed"}],lion_mana_drain:[{label:"Duration",controlType:"input"},{attributeName:"mana_per_second",label:"MANA DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],luna_moon_glaive:[{label:"Damage",controlType:"input"},{attributeName:"damage_reduction_percent",label:"BOUNCE DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){for(var l=[],i=1;i<6;i++)l.push((t*Math.pow(e/100,i)).toFixed(2));return l.join("<br>")}}],luna_eclipse:[{label:"Beam Count",controlType:"input"},{attributeName:"beams",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){var l=n.abilities().find(function(t){return"luna_lucent_beam"==t.name});if(0==l.level())return 0;var i=n.getAbilityPropertyValue(l,"damage");return t*i}}],medusa_mystic_snake:[{label:"Jump Count",controlType:"input"},{attributeName:"snake_damage",label:"Damage Per Jump:",ignoreTooltip:!0,controlType:"method",display:"none",fn:function(t,e,r,a,n,o){for(var l=n.getAbilityAttributeValue(o.attributes,"snake_jumps",o.level()),i=n.getAbilityAttributeValue(o.attributes,"snake_scale",0),u=[],p=0;p<l;p++)u.push(e+e*p*i/100);return u}},{attributeName:"snake_damage",label:"Damage Per Jump:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[1].join(" / ")}},{attributeName:"snake_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[1].slice(0,t[0]).reduce(function(t,e){return t+e},0)}},{attributeName:"snake_damage",label:"Max Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[1].reduce(function(t,e){return t+e},0)}}],medusa_mana_shield:[{label:"Damage",controlType:"input"},{attributeName:"damage_per_mana",label:"MANA USED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return(t/e).toFixed(2)}},{attributeName:"absorption_tooltip",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return-e},returnProperty:"damageReduction"}],meepo_poof:[{label:"Meepo Count",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],meepo_geostrike:[{label:"Stacks",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}},{attributeName:"slow",label:"%SLOW:",ignoreTooltip:!0,controlType:"text",noLevel:!0,fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"slow",o.level())*t},returnProperty:"movementSpeedPctReduction"}],mirana_arrow:[{label:"Arrow Travel Distance",controlType:"input"},{attributeName:"arrow_max_stun",label:"STUN DURATION:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"arrow_min_stun",0),i=n.getAbilityAttributeValue(o.attributes,"arrow_max_stunrange",0),u=Math.min(t,i)/i;return Math.max(l,.1*Math.floor(e*u/.1))}},{attributeName:"arrow_bonus_damage",label:"TOTAL DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var o=o,l=o.damage()[o.level()-1],i=n.getAbilityAttributeValue(o.attributes,"arrow_max_stunrange",0),u=Math.min(t,i)/i,p=2.8*Math.floor(e*u/2.8);return l+" + "+p+" = "+(l+p)}}],morphling_morph_agi:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"AGI SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusAgility"},{attributeName:"points_per_tick",label:"STR SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return-t*e},returnProperty:"bonusStrength"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"bonusAgility2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e*n.getAbilityAttributeValue(o.attributes,"morph_cooldown",o.level())}}],morphling_morph_str:[{label:"Shifts",controlType:"input"},{attributeName:"points_per_tick",label:"STR SHIFT GAIN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusStrength"},{attributeName:"points_per_tick",label:"AGI SHIFT LOSS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return-t*e},returnProperty:"bonusAgility"},{attributeName:"bonus_attributes",label:"SHIFT TIME:",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"bonusStrength2"},{attributeName:"morph_cooldown",label:"SHIFT TIME:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"mana_cost",label:"SHIFT MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e*n.getAbilityAttributeValue(o.attributes,"morph_cooldown",o.level())}}],furion_wrath_of_nature:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],necrolyte_heartstopper_aura:[{label:"Duration",controlType:"input"},{label:"Enemy Max Health",controlType:"input"},{attributeName:"aura_damage",label:"HEALTH LOST:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return t[0]*t[1]*e/100}}],necrolyte_sadist:[{label:"Unit Kills",controlType:"input"},{label:"Hero Kills",controlType:"input"},{attributeName:"health_regen",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"hero_multiplier",0);return(t[0]+t[1]*l)*e},returnProperty:"healthregen"},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"hero_multiplier",0);return(t[0]+t[1]*l)*e},returnProperty:"manaregen"}],night_stalker_crippling_fear:[{label:"Is Night",controlType:"checkbox"},{attributeName:"miss_rate_night",label:"%CHANCE TO MISS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t?n.getAbilityAttributeValue(o.attributes,"miss_rate_night",o.level()):n.getAbilityAttributeValue(o.attributes,"miss_rate_day",o.level())},returnProperty:"missChance"}],night_stalker_hunter_in_the_night:[{label:"Is Night",controlType:"checkbox"},{attributeName:"bonus_attack_speed_night",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t?e:0},returnProperty:"attackspeed"},{attributeName:"bonus_movement_speed_pct_night",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t?e:0},returnProperty:"movementSpeedPct"}],obsidian_destroyer_arcane_orb:[{label:"Current Mana",controlType:"input"},{attributeName:"mana_pool_damage_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100},returnProperty:"bonusDamageOrb"}],ogre_magi_ignite:[{label:"Duration",controlType:"input"},{attributeName:"burn_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"slow_movement_speed_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],pudge_rot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}},{attributeName:"rot_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],pudge_flesh_heap:[{label:"Stacks",controlType:"input"},{attributeName:"flesh_heap_strength_buff_amount",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusStrength"},{attributeName:"flesh_heap_magic_resist",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"magicResist"}],pudge_dismember:[{label:"Duration",controlType:"input"},{attributeName:"dismember_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],pugna_nether_ward:[{label:"Enemy Mana Spent",controlType:"input"},{attributeName:"mana_multiplier",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"mana_regen",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"manaregenreduction"}],pugna_life_drain:[{label:"Duration",controlType:"input"},{attributeName:"health_drain",label:"HEALTH DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],queenofpain_shadow_strike:[{label:"Duration",controlType:"input"},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"strike_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"duration_damage",o.level()),i=Math.floor(t/3);return e+l*i}}],razor_plasma_field:[{label:"Distance",controlType:"input"},{attributeName:"radius",label:"MIN DISTANCE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return 200}},{attributeName:"radius",label:"MAX DISTANCE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return 200+e}},{attributeName:"radius",label:"Instance Damage",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=e+200,i=(Math.min(Math.max(t,200),l)-200)/(l-200),u=n.getAbilityAttributeValue(o.attributes,"damage_min",o.level()),p=n.getAbilityAttributeValue(o.attributes,"damage_max",o.level());return u+(p-u)*i}}],razor_static_link:[{label:"Duration",controlType:"input"},{attributeName:"drain_length",label:"Damage Drained:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=Math.floor(4*t)+1,i=Math.min(4*e+1,l),u=n.getAbilityAttributeValue(o.attributes,"drain_rate",o.level());return i*u/4},returnProperty:"bonusDamage"},{attributeName:"drain_length",label:"Enemy Damage Lost:",ignoreTooltip:!0,controlType:"text",display:"hidden",fn:function(t,e,r,a,n,o){var l=Math.floor(4*t)+1,i=Math.min(4*e+1,l),u=n.getAbilityAttributeValue(o.attributes,"drain_rate",o.level());return i*u/4},returnProperty:"bonusDamageReduction"}],razor_eye_of_the_storm:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],rubick_fade_bolt:[{label:"Jumps",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e*(1-t*n.getAbilityAttributeValue(o.attributes,"jump_damage_reduction_pct",o.level())/100)}},{attributeName:"hero_attack_damage_reduction",label:"Total Damage",
controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"bonusDamageReduction"}],sandking_sand_storm:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],sandking_epicenter:[{label:"Pulses",controlType:"input"},{attributeName:"epicenter_damage",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"epicenter_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"epicenter_slow_as",label:"%ATTACK SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"}],shadow_demon_shadow_poison:[{label:"Duration",controlType:"input"},{attributeName:"stack_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){var l=[1,2,4,8];return t>4?e*l[3]+50*(t-4):t<=0?0:e*l[t-1]}}],nevermore_necromastery:[{label:"Souls",controlType:"input"},{attributeName:"necromastery_damage_per_soul",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusDamage"}],nevermore_requiem:[{label:"Line Hit Count",controlType:"input"},{attributeName:"requiem_reduction_damage",label:"Damage:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}},{label:"Return Line Hit Count (Scepter)",controlType:"input"},{attributeName:"requiem_damage_pct_scepter",label:"Damage/Heal:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t*e/100}},{attributeName:"requiem_damage_pct_scepter",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){var l=n.getAbilityPropertyValue(o,"damage");return l*t[0]+l*t[1]*e/100}},{attributeName:"requiem_reduction_damage",label:"%DAMAGE REDUCTION:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"baseDamageReductionPct"},{attributeName:"requiem_reduction_ms",label:"%DAMAGE REDUCTION:",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],shadow_shaman_shackles:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],silencer_curse_of_the_silent:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return Math.floor(t)*e}},{attributeName:"movespeed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],skywrath_mage_mystic_flare:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],slark_essence_shift:[{label:"Attacks",controlType:"input"},{attributeName:"agi_gain",label:"Total Damage",controlType:"text",display:"ability",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"bonusAgility"},{attributeName:"stat_loss",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return-t*e},returnProperty:"bonusAllStatsReduction"}],slark_shadow_dance:[{label:"Duration",controlType:"input"},{attributeName:"bonus_regen_pct",label:"TOTAL HEALTH REGENERATED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*r.health()*e/100}},{attributeName:"bonus_regen_pct",label:"HEALTH GAINED PER SECOND:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return r.health()*e/100},returnProperty:"healthregen"},{attributeName:"bonus_movement_speed",label:"%MOVE SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPct"}],sniper_shrapnel:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}},{attributeName:"building_damage",label:"BUILDING DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"slow_movement_speed",label:"Enemy Movement Speed Slow",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],spectre_desolate:[{label:"Enemy Alone",controlType:"checkbox"},{attributeName:"bonus_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t?e:0},returnProperty:"bonusDamage"}],spectre_dispersion:[{label:"Damage Taken",controlType:"input"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",controlType:"text",fn:function(t,e,r,a,n,o){return-e},returnProperty:"damageReduction"},{attributeName:"damage_reflection_pct",label:"DAMAGE REFLECTED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100}}],storm_spirit_ball_lightning:[{label:"MAX MANA",controlType:"input"},{label:"Distance",controlType:"input"},{attributeName:"ball_lightning_initial_mana_base",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")/100*t[1]}},{attributeName:"ball_lightning_initial_mana_base",label:"FLAT MANA COST:",ignoreTooltip:!0,controlType:"method",controls:[0,1],fn:function(t,e,r,a,n,o){var l=Math.floor(t[1]/100),i=n.getAbilityAttributeValue(o.attributes,"ball_lightning_travel_cost_base",0);return e+l*i}},{attributeName:"ball_lightning_initial_mana_percentage",label:"%MAX MANA COST:",ignoreTooltip:!0,controlType:"method",controls:[0,1],fn:function(t,e,r,a,n,o){var l=Math.floor(t[1]/100),i=n.getAbilityAttributeValue(o.attributes,"ball_lightning_travel_cost_percent",0);return e+l*i}},{attributeName:"ball_lightning_initial_mana_base",label:"TOTAL MANA COST:",ignoreTooltip:!0,controlType:"text",controls:[0,1,2,3],fn:function(t,e,r,a,n,o){return t[2]+" + "+t[3]/100*t[0]+" ("+t[3]+"% of max) = "+(t[2]+t[3]/100*t[0])}}],templar_assassin_psionic_trap:[{label:"Charge Time",controlType:"input"},{attributeName:"movement_speed_min_tooltip",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"movement_speed_max_tooltip",0),i=(l-e)/40;return-(e+i*Math.min(Math.max(0,t),4)*10)},returnProperty:"movementSpeedPctReduction"}],shredder_reactive_armor:[{label:"Stacks",controlType:"input"},{attributeName:"bonus_armor",label:"Total Armor Bonus",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"armor"},{attributeName:"bonus_hp_regen",label:"Total HP Regen Bonus",controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"healthregen"}],shredder_chakram:[{label:"Duration",controlType:"input"},{attributeName:"damage_per_second",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"damage_interval",0),i=Math.floor(t/l);return e*l*i}},{attributeName:"mana_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"damage_interval",0),i=Math.floor(t/l);return e*l*i}},{label:"ENEMY %HP",controlType:"input"},{attributeName:"slow",label:"MANA COST:",controlType:"text",fn:function(t,e,r,a,n,o){var l=20-Math.floor(Math.min(Math.max(t-1,0),99)/5);return-e*l},returnProperty:"movementSpeedPctReduction"}],spirit_breaker_greater_bash:[{label:"Bash Proc",controlType:"checkbox"},{attributeName:"damage",label:"%MOVESPEED AS DAMAGE",controlType:"text",fn:function(t,e,r,a,n,o){return t?e:0},returnProperty:"bashBonusDamage"},{attributeName:"bonus_movespeed_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t?e:0},returnProperty:"movementSpeedPct"},{attributeName:"chance_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"bash"}],techies_land_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=r.enemy().totalArmorPhysicalReduction(),i=r.enemy().totalMagicResistance();return(t*e*(1-l/100)*(1-i/100)).toFixed(2)}}],techies_suicide:[{attributeName:"damage",label:"FULL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=r.enemy().totalArmorPhysicalReduction(),i=r.enemy().totalMagicResistance();return(e*(1-l/100)*(1-i/100)).toFixed(2)}},{attributeName:"partial_damage",label:"PARTIAL DAMAGE AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=r.enemy().totalArmorPhysicalReduction(),i=r.enemy().totalMagicResistance();return(e*(1-l/100)*(1-i/100)).toFixed(2)}},{attributeName:"damage",label:"RESPAWN TIME:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return(r.respawnTime()/2).toFixed(0)+" seconds"}}],techies_remote_mines:[{label:"Number of Mines",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"damage",label:"AFTER REDUCTIONS:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=r.enemy().totalMagicResistance();return(t*e*(1-l/100)).toFixed(2)}}],tinker_march_of_the_machines:[{label:"Robot Explosions",controlType:"input"},{attributeName:"machines_per_sec",label:"TOTAL DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],treant_leech_seed:[{label:"Pulses",controlType:"input"},{attributeName:"leech_damage",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],troll_warlord_fervor:[{label:"Stacks",controlType:"input"},{attributeName:"attack_speed",label:"ATTACK SPEED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"attackspeed"}],undying_decay:[{label:"Stacks",controlType:"input"},{attributeName:"str_steal",label:"STRENGTH STOLEN:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){if(r.inventory.hasScepter()){var l=n.getAbilityAttributeValue(o.attributes,"str_steal_scepter",0);return t*l}return t*e},returnProperty:"bonusStrength"}],undying_soul_rip:[{label:"Units",controlType:"input"},{attributeName:"damage_per_unit",label:"DAMAGE/HEAL:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],undying_flesh_golem:[{label:"Distance",controlType:"input"},{attributeName:"max_speed_slow",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"min_speed_slow",0),i=n.getAbilityAttributeValue(o.attributes,"radius",0),u=n.getAbilityAttributeValue(o.attributes,"full_power_radius",0),p=Math.min(Math.max(t,u),i),c=1-(p-u)/(i-u);return-Math.max(c*e,l)},returnProperty:"movementSpeedPctReduction"},{attributeName:"max_damage_amp",label:"%DAMAGE AMP:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"min_damage_amp",0),i=n.getAbilityAttributeValue(o.attributes,"radius",0),u=n.getAbilityAttributeValue(o.attributes,"full_power_radius",0),p=Math.min(Math.max(t,u),i),c=1-(p-u)/(i-u);return Math.max(c*e,l)},returnProperty:"damageAmplification"},{label:"MAX HP",controlType:"input"},{label:"Hero Death Count",controlType:"input"},{label:"Creep Death Count",controlType:"input"},{attributeName:"death_heal",label:"DEATH HEAL (HEROES):",ignoreTooltip:!0,controlType:"method",controls:[1,2],fn:function(t,e,r,a,n,o){return t[0]*t[1]*e/100}},{attributeName:"death_heal_creep",label:"DEATH HEAL (CREEPS):",ignoreTooltip:!0,controlType:"method",controls:[1,3],fn:function(t,e,r,a,n,o){return t[0]*t[1]*e/100}},{attributeName:"death_heal_creep",label:"TOTAL DEATH HEAL:",ignoreTooltip:!0,controlType:"text",controls:[4,5],fn:function(t,e,r,a,n,o){return t[0]+t[1]}}],ursa_fury_swipes:[{label:"Stacks",controlType:"input"},{attributeName:"damage_per_stack",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){var l=n.abilities().find(function(t){return"ursa_enrage"==t.name});if(l.isActive()&&l.level()>0){var i=n.getAbilityAttributeValue(l.attributes,"enrage_multiplier",l.level());return t*e*i}return t*e},returnProperty:"bonusDamage"}],ursa_enrage:[{attributeName:"damage_reduction",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return-e},returnProperty:"damageReduction"}],venomancer_venomous_gale:[{label:"Duration",controlType:"input"},{attributeName:"tick_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityAttributeValue(o.attributes,"strike_damage",o.level())+Math.floor(t/3)*e}},{attributeName:"movement_slow",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_sting:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"movement_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"}],venomancer_poison_nova:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],viper_poison_attack:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"}],viper_corrosive_skin:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"},{attributeName:"bonus_magic_resistance",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"magicResist"}],viper_viper_strike:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"bonus_movement_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"movementSpeedPctReduction"},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeedreduction"}],visage_soul_assumption:[{label:"Charges",controlType:"input"},{attributeName:"soul_charge_damage",label:"Total Damage:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"soul_base_damage",0),i=n.getAbilityAttributeValue(o.attributes,"stack_limit",o.level());return i=Math.max(Math.min(t,i),0),l+i*e}}],visage_gravekeepers_cloak:[{label:"Layers",controlType:"input"},{attributeName:"bonus_armor",label:"ARMOR:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"armor"},{attributeName:"bonus_resist",label:"%RESIST:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e},returnProperty:"magicResist"}],warlock_shadow_word:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],warlock_upheaval:[{label:"Channel Duration",controlType:"input"},{attributeName:"slow_rate_duration",label:"%MOVE SLOW:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"max_slow",0),i=l/(e-.5)/2,u=Math.max(Math.floor(2*t)-1,0);return-Math.min(u*i,l)},returnProperty:"movementSpeedPctReduction"}],weaver_the_swarm:[{label:"Attacks",controlType:"input"},{attributeName:"damage",label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"armor_reduction",label:"DAMAGE:",controlType:"text",fn:function(t,e,r,a,n,o){return-t*e},returnProperty:"armorReduction"}],windrunner_powershot:[{label:"Duration",controlType:"input"},{label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return n.getAbilityPropertyValue(o,"damage")*t}}],winter_wyvern_cold_embrace:[{label:"Duration",controlType:"input"},{label:"Ally Max Health",controlType:"input"},{attributeName:"heal_percentage",label:"TOTAL HEAL:",ignoreTooltip:!0,controlType:"text",controls:[0,1],fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"heal_additive",o.level());return(l+t[1]*e/100)*t[0]}}],wisp_spirits:[{label:"Collision Count",controlType:"input"},{attributeName:"hero_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"creep_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],wisp_overcharge:[{label:"Current HP",controlType:"input"},{attributeName:"drain_pct",label:"HP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{label:"Current MP",controlType:"input"},{attributeName:"drain_pct",label:"MP DRAINED:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e}},{attributeName:"bonus_attack_speed",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"attackspeed"},{attributeName:"bonus_damage_pct",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return e},returnProperty:"damageReduction"}],witch_doctor_paralyzing_cask:[{label:"Hero Bounce Count",controlType:"input"},{attributeName:"hero_damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"bounces",o.level());return Math.min(Math.max(t,0),l)*e}},{label:"Creep Bounce Count",controlType:"input"},{attributeName:"hero_damage",label:"CREEP DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"bounces",o.level()),i=n.getAbilityPropertyValue(o,"damage");return Math.min(Math.max(t,0),l)*i}}],witch_doctor_voodoo_restoration:[{label:"Duration",controlType:"input"},{attributeName:"heal",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"heal_interval",o.level()),i=e*l,u=Math.max(Math.floor(t/l)-1,0);return i*u}},{attributeName:"mana_per_second",label:"MANA COST:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"heal_interval",o.level()),i=e*l,u=Math.max(Math.floor(t/l)-1,0);return i*u}}],witch_doctor_maledict:[{label:"damage 0-4s",controlType:"input"},{label:"damage 4-8s",controlType:"input"},{label:"damage 8-12s",controlType:"input"},{attributeName:"bonus_damage",label:"Dot Damage after 3s:",ignoreTooltip:!0,controlType:"method",fn:function(t,e,r,a,n,o){var l=n.getAbilityPropertyValue(o,"damage");return 3*l}},{attributeName:"bonus_damage",label:"Burst Damage at 4s:",ignoreTooltip:!0,controlType:"method",controls:[0,3],fn:function(t,e,r,a,n,o){var l=(n.getAbilityPropertyValue(o,"damage"),t.reduce(function(t,e){return t+e},0));return Math.max(l,0)*e/100}},{attributeName:"bonus_damage",label:"Dot Damage after 7s:",ignoreTooltip:!0,controlType:"method",fn:function(t,e,r,a,n,o){var l=n.getAbilityPropertyValue(o,"damage");return 7*l}},{attributeName:"bonus_damage",label:"Burst Damage at 8s:",ignoreTooltip:!0,controlType:"method",controls:[0,1,4,5],fn:function(t,e,r,a,n,o){var l=(n.getAbilityPropertyValue(o,"damage"),t.reduce(function(t,e){return t+e},0));return Math.max(l,0)*e/100}},{attributeName:"bonus_damage",label:"Dot Damage after 11s:",ignoreTooltip:!0,controlType:"method",fn:function(t,e,r,a,n,o){var l=n.getAbilityPropertyValue(o,"damage");return 11*l}},{attributeName:"bonus_damage",label:"Burst Damage at 12s:",ignoreTooltip:!0,controlType:"method",controls:[0,1,2,4,6,7],fn:function(t,e,r,a,n,o){var l=(n.getAbilityPropertyValue(o,"damage"),t.reduce(function(t,e){return t+e},0));return Math.max(l,0)*e/100}},{attributeName:"bonus_damage",label:"Total Burst Damage:",ignoreTooltip:!0,controlType:"method",controls:[4,6,8],fn:function(t,e,r,a,n,o){return t.reduce(function(t,e){return t+e},0)}},{attributeName:"bonus_damage",label:"Total Maledict Damage:",ignoreTooltip:!0,controlType:"method",controls:[9],fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"duration_tooltip",0),i=n.getAbilityPropertyValue(o,"damage");return i*l+t[0]}},{label:"Duration",controlType:"input"},{attributeName:"bonus_damage",label:"DOT Damage",controlType:"text",fn:function(t,e,r,a,n,o){var l=n.getAbilityAttributeValue(o.attributes,"duration_tooltip",0);return n.getAbilityPropertyValue(o,"damage")*Math.min(Math.max(t,0),l)}}],witch_doctor_death_ward:[{label:"Duration",controlType:"input"},{attributeName:"damage",label:"Total Damage",controlType:"text",fn:function(t,e,r,a,n,o){return t*e}}],zuus_static_field:[{label:"Enemy HP",controlType:"input"},{attributeName:"damage_health_pct",label:"DAMAGE:",ignoreTooltip:!0,controlType:"text",fn:function(t,e,r,a,n,o){return t*e/100}}]};module.exports=abilityData;
},{}],19:[function(require,module,exports){
(function (global){
"use strict";var ko="undefined"!=typeof window?window.ko:"undefined"!=typeof global?global.ko:null;ko.mapping=require("../lib/knockout.mapping"),ko.wrap=require("../lib/knockout.wrap"),ko.extenders.numeric=function(e,o){var n=ko.pureComputed({read:e,write:function(n){var r=e(),i=Math.pow(10,(o===Object(o)?o.precision:o)||0),t=isNaN(n)?o.defaultValue||0:+n,u=Math.round(t*i)/i;u!==r?e(u):n!==r&&e.notifySubscribers(u)}}).extend({notify:"always"});return n(e()),n},module.exports=ko;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"../lib/knockout.mapping":40,"../lib/knockout.wrap":41}],20:[function(require,module,exports){
var illusionData={chaos_knight_phantasm:{hero:"chaos_knight",displayName:"Chaos Knight Phantasm",use_selected_hero:!1,max_level:3,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},naga_siren_mirror_image:{hero:"naga_siren",displayName:"Naga Siren Mirror Image",use_selected_hero:!1,max_level:4,outgoing_damage:"outgoing_damage",incoming_damage:"incoming_damage"},dark_seer_wall_of_replica:{hero:"dark_seer",displayName:"Dark Seer Wall of Replica",use_selected_hero:!0,max_level:3,outgoing_damage:"replica_damage_outgoing",incoming_damage:"replica_damage_incoming",outgoing_damage_scepter:"replica_damage_outgoing_scepter"},morphling_replicate:{hero:"morphling",displayName:"Morphling Replicate",use_selected_hero:!0,max_level:3,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_doppelwalk:{hero:"phantom_lancer",displayName:"Phantom Lancer Doppelwalk",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_juxtapose:{hero:"phantom_lancer",displayName:"Phantom Lancer Juxtapose",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},phantom_lancer_spirit_lance:{hero:"phantom_lancer",displayName:"Phantom Lancer Spirit Lance",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_damage_out_pct",incoming_damage:"illusion_damage_in_pct"},shadow_demon_disruption:{hero:"shadow_demon",displayName:"Shadow Demon Disruption",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},spectre_haunt:{hero:"spectre",displayName:"Spectre Haunt",use_selected_hero:!1,max_level:3,outgoing_damage:"illusion_damage_outgoing",incoming_damage:"illusion_damage_incoming"},terrorblade_conjure_image:{hero:"terrorblade",displayName:"Terrorblade Conjure Image",use_selected_hero:!1,max_level:4,outgoing_damage:"illusion_outgoing_damage",incoming_damage:"illusion_incoming_damage"},terrorblade_reflection:{hero:"terrorblade",displayName:"Terrorblade Reflection",use_selected_hero:!0,max_level:4,outgoing_damage:"illusion_outgoing_damage"},item_manta:{hero:"",is_item:!0,displayName:"Manta Style Illusion",use_selected_hero:!0,max_level:1,outgoing_damage_melee:"images_do_damage_percent_melee",incoming_damage_melee:"images_take_damage_percent_melee",outgoing_damage_ranged:"images_do_damage_percent_ranged",incoming_damage_ranged:"images_take_damage_percent_ranged"}};module.exports=illusionData;
},{}],21:[function(require,module,exports){
var stackableItems=require("./stackableItems"),levelItems=require("./levelItems"),itemsWithActive=require("./itemsWithActive"),BasicInventoryViewModel=function(e){var t=this;t.items=ko.observableArray([]),t.activeItems=ko.observableArray([]),t.addItem=function(e,t){if(void 0!=e.selectedItem()){var i={item:e.selectedItem().split("|")[0],state:ko.observable(0),size:e.itemInputValue(),enabled:ko.observable(!0)};switch(i.item){case"dagon":i.size=Math.min(i.size,5);break;case"travel_boots":case"diffusal_blade":i.size=Math.min(i.size,2);break;case"necronomicon":i.size=Math.min(i.size,3)}this.items.push(i),"ring_of_aquila"!==e.selectedItem()&&"ring_of_basilius"!==e.selectedItem()&&"heart"!==e.selectedItem()||this.toggleItem(void 0,i,void 0)}}.bind(this),t.toggleItem=function(e,t,i){if(itemsWithActive.indexOf(t.item)>=0)switch(this.activeItems.indexOf(t)<0?this.activeItems.push(t):this.activeItems.remove(t),t.item){case"power_treads":t.state()<2?t.state(t.state()+1):t.state(0);break;default:0==t.state()?t.state(1):t.state(0)}}.bind(this),t.removeItem=function(e){this.activeItems.remove(e),this.items.remove(e)}.bind(this),t.toggleMuteItem=function(e){e.enabled(!e.enabled())}.bind(this),t.removeAll=function(){this.activeItems.removeAll(),this.items.removeAll()}.bind(this)};BasicInventoryViewModel.prototype.getItemImage=function(e){var t=ko.utils.unwrapObservable(e.state);switch(e.item){case"power_treads":return 0==t?"/media/images/items/"+e.item+"_str.png":1==t?"/media/images/items/"+e.item+"_int.png":"/media/images/items/"+e.item+"_agi.png";case"tranquil_boots":case"ring_of_basilius":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"armlet":return 0==t?"/media/images/items/"+e.item+".png":"/media/images/items/"+e.item+"_active.png";case"ring_of_aquila":return 0==t?"/media/images/items/"+e.item+"_active.png":"/media/images/items/"+e.item+".png";case"dagon":case"diffusal_blade":case"travel_boots":case"necronomicon":return e.size>1?"/media/images/items/"+e.item+"_"+e.size+".png":"/media/images/items/"+e.item+".png";default:return"/media/images/items/"+e.item+".png"}},BasicInventoryViewModel.prototype.getItemSizeLabel=function(e){return stackableItems.indexOf(e.item)!=-1?'<span style="font-size:10px">Qty: </span>'+e.size:levelItems.indexOf(e.item)!=-1?'<span style="font-size:10px">Lvl: </span>'+e.size:"bloodstone"==e.item?'<span style="font-size:10px">Charges: </span>'+e.size:""},BasicInventoryViewModel.prototype.getActiveBorder=function(e){switch(e.item){case"power_treads":case"tranquil_boots":case"ring_of_basilius":case"ring_of_aquila":case"armlet":return 0;default:return ko.utils.unwrapObservable(e.state)}},BasicInventoryViewModel.prototype.getItemAttributeValue=function(e,t,i){for(var s=0;s<e.length;s++)if(e[s].name==t)return 0==i?parseFloat(e[s].value[0]):i>e[s].value.length?parseFloat(e[s].value[0]):parseFloat(e[s].value[i-1])},module.exports=BasicInventoryViewModel;
},{"./itemsWithActive":27,"./levelItems":28,"./stackableItems":29}],22:[function(require,module,exports){
"use strict";var ko=require("../herocalc_knockout"),stackableItems=require("./stackableItems"),levelItems=require("./levelItems"),BasicInventoryViewModel=require("./BasicInventoryViewModel"),itemOptionsArray=require("./itemOptionsArray"),itemBuffOptions=require("./itemBuffOptions"),itemDebuffOptions=require("./itemDebuffOptions"),InventoryViewModel=function(e,t){var a=this;return BasicInventoryViewModel.call(this,t),a.hero=t,a.hasInventory=ko.observable(!0),a.items=ko.observableArray([]),a.activeItems=ko.observableArray([]),a.hasScepter=ko.computed(function(){for(var e=0;e<a.items().length;e++){var t=a.items()[e].item;if("ultimate_scepter"===t&&a.items()[e].enabled())return!0}return!1},this),a.isEthereal=ko.computed(function(){for(var e=0;e<a.items().length;e++){var t=a.items()[e].item,s=a.activeItems.indexOf(a.items()[e])>=0;if(("ghost"===t||"ethereal_blade"===t)&&a.items()[e].enabled()&&s)return!0}return!1},this),a.isSheeped=ko.computed(function(){for(var e=0;e<a.items().length;e++){var t=a.items()[e].item,s=a.activeItems.indexOf(a.items()[e])>=0;if("sheepstick"===t&&a.items()[e].enabled()&&s)return!0}return!1},this),a.totalCost=ko.computed(function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item;if(a.items()[s].enabled())if(stackableItems.indexOf(i)!=-1)t+=e["item_"+i].itemcost*a.items()[s].size;else if(levelItems.indexOf(i)!=-1)switch(i){case"diffusal_blade":t+=e["item_"+i].itemcost+700*(a.items()[s].size-1);break;case"necronomicon":case"dagon":t+=e["item_"+i].itemcost+1250*(a.items()[s].size-1);break;default:t+=e["item_"+i].itemcost}else t+=e["item_"+i].itemcost}return t},this),a.addItemBuff=function(e,t){if(a.hasInventory()&&void 0!=a.selectedItemBuff()){var s={item:a.selectedItemBuff(),state:ko.observable(0),size:1,enabled:ko.observable(!0)};a.items.push(s),"ring_of_aquila"!==a.selectedItemBuff()&&"ring_of_basilius"!==a.selectedItemBuff()||a.toggleItem(void 0,s,void 0)}},a.addItemDebuff=function(e,t){if(a.hasInventory()&&void 0!=a.selectedItemDebuff()){var s={item:a.selectedItemDebuff().split("|")[0],state:ko.observable(0),size:1,enabled:ko.observable(!0)};2==a.selectedItemDebuff().split("|").length&&(s.debuff=a.selectedItemDebuff().split("|")[1]),a.items.push(s),"ring_of_aquila"!==a.selectedItemDebuff()&&"ring_of_basilius"!==a.selectedItemDebuff()||a.toggleItem(void 0,s,void 0)}},a.getAttributes=function(t){for(var s=0,i=0;i<a.items().length;i++){var r=a.items()[i].item,n=a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())for(var m=a.items()[i].size,u=0;u<e["item_"+r].attributes.length;u++){var o=e["item_"+r].attributes[u];switch(o.name){case"bonus_all_stats":s+=parseInt(o.value[0]);break;case"bonus_stats":s+=parseInt(o.value[0])}switch(t){case"agi":"bonus_agility"==o.name&&(s+="diffusal_blade"==r?parseInt(o.value[m-1]):parseInt(o.value[0])),"bonus_stat"==o.name&&2==a.items()[i].state()&&(s+=parseInt(o.value[0])),"bonus_agi"==o.name&&(s+=parseInt(o.value[0]));break;case"int":"bonus_intellect"==o.name&&(s+="necronomicon"==r?parseInt(o.value[m-1]):"diffusal_blade"==r?parseInt(o.value[m-1]):"dagon"==r?parseInt(o.value[m-1]):parseInt(o.value[0])),"bonus_intelligence"==o.name&&(s+=parseInt(o.value[0])),"bonus_int"==o.name&&(s+=parseInt(o.value[0])),"bonus_stat"==o.name&&1==a.items()[i].state()&&(s+=parseInt(o.value[0]));break;case"str":"bonus_strength"==o.name&&(s+="necronomicon"==r?parseInt(o.value[m-1]):parseInt(o.value[0])),"bonus_stat"==o.name&&0==a.items()[i].state()&&(s+=parseInt(o.value[0])),"bonus_str"==o.name&&(s+=parseInt(o.value[0])),"unholy_bonus_strength"==o.name&&n&&(s+=parseInt(o.value[0]))}}}return s},a.getBash=function(t){for(var s=1,i=0;i<a.items().length;i++){var r=a.items()[i].item;if(a.items()[i].enabled())for(var n=0;n<e["item_"+r].attributes.length;n++){var m=e["item_"+r].attributes[n];switch(m.name){case"bash_chance":s*=1-parseInt(m.value[0])/100;break;case"bash_chance_melee":"DOTA_UNIT_CAP_MELEE_ATTACK"==t&&(s*=1-parseInt(m.value[0])/100);break;case"bash_chance_ranged":"DOTA_UNIT_CAP_RANGED_ATTACK"==t&&(s*=1-parseInt(m.value[0])/100)}}}return s},a.getCritChance=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"crit_chance":t*=1-parseInt(n.value[0])/100}}}return t},a.getCritSource=function(){for(var t={},s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled()){switch(i){case"lesser_crit":case"greater_crit":case"bloodthorn":void 0==t[i]?t[i]={chance:a.getItemAttributeValue(e["item_"+i].attributes,"crit_chance",0)/100,multiplier:a.getItemAttributeValue(e["item_"+i].attributes,"crit_multiplier",0)/100,count:1,displayname:e["item_"+i].displayname}:t[i].count+=1}"bloodthorn"===i&&r&&(void 0==t.soul_rend?t.soul_rend={chance:1,multiplier:a.getItemAttributeValue(e["item_"+i].attributes,"target_crit_multiplier",0)/100,count:1,displayname:"Soul Rend"}:t.soul_rend.count+=1)}}return t},a.getCleaveSource=function(){for(var t={},s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())switch(i){case"bfury":void 0==t[i]?t[i]={radius:a.getItemAttributeValue(e["item_"+i].attributes,"cleave_radius",0),magnitude:a.getItemAttributeValue(e["item_"+i].attributes,"cleave_damage_percent",0)/100,count:1,displayname:e["item_"+i].displayname}:t[i].count+=1}}return t},a.getBashSource=function(t){for(var s={},i=0;i<a.items().length;i++){var r=a.items()[i].item;a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())switch(r){case"javelin":void 0==s[r]?s[r]={damage:a.getItemAttributeValue(e["item_"+r].attributes,"bonus_chance_damage",1),damageType:"magic",count:1,chance:a.getItemAttributeValue(e["item_"+r].attributes,"bonus_chance",1)/100,displayname:e["item_"+r].displayname+" Pierce"}:s[r].count+=1;break;case"monkey_king_bar":void 0==s[r]?s[r]={item:r,chance:a.getItemAttributeValue(e["item_"+r].attributes,"bash_chance",0)/100,damage:a.getItemAttributeValue(e["item_"+r].attributes,"bash_damage",0),duration:a.getItemAttributeValue(e["item_"+r].attributes,"bash_stun",0),count:1,damageType:"magic",displayname:"Mini-Bash"}:s[r].count+=1;break;case"abyssal_blade":case"basher":s.hasOwnProperty("bash")||(s.bash={item:r,chance:a.getItemAttributeValue(e["item_"+r].attributes,"DOTA_UNIT_CAP_MELEE_ATTACK"==t?"bash_chance_melee":"bash_chance_ranged",0)/100,damage:a.getItemAttributeValue(e["item_"+r].attributes,"bonus_chance_damage",0),duration:a.getItemAttributeValue(e["item_"+r].attributes,"bash_duration",0),count:1,damageType:"physical",displayname:"Bash"})}}return s},a.getOrbProcSource=function(){for(var t={},s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())switch(i){case"maelstrom":case"mjollnir":void 0==t[i]?t[i]={chance:a.getItemAttributeValue(e["item_"+i].attributes,"chain_chance",0)/100,damage:a.getItemAttributeValue(e["item_"+i].attributes,"chain_damage",0),count:1,damageType:"magic",displayname:e["item_"+i].displayname}:t[i].count+=1}}return t},a.getOrbSource=function(){for(var t={},s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())switch(i){case"diffusal_blade":void 0==t[i]?t[i]={chance:1,damage:a.getItemAttributeValue(e["item_"+i].attributes,"feedback_mana_burn",a.items()[s].size),count:1,damageType:"physical",displayname:e["item_"+i].displayname}:t[i].count+=1}}return t},a.getHealth=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"bonus_health":t+=parseInt(n.value[0])}}}return t},a.getHealthRegen=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"health_regen":case"bonus_regen":t+=parseInt(m.value[0]);break;case"bonus_health_regen":"tranquil_boots"!=i||r?"tranquil_boots"!=i&&(t+=parseInt(m.value[0])):t+=parseInt(m.value[0]);break;case"hp_regen":t+=parseInt(m.value[0]);break;case"health_regen_rate":"heart"==i&&r&&(t+=parseInt(m.value[0])/100*a.hero.health())}}}return t},a.getHealthRegenAura=function(t){for(var s=0,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item;a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var m=0;m<e["item_"+n].attributes.length;m++){var u=e["item_"+n].attributes[m];if(!(i.indexOf(n+u.name)>-1))switch(u.name){case"aura_health_regen":s+=parseInt(u.value[0]),i.push(n+u.name)}}}return{value:s,excludeList:i}},a.getMana=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"bonus_mana":t+=parseInt(n.value[0])}}}return t},a.getManaRegen=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"aura_mana_regen":case"mana_regen_aura":t+=parseFloat(n.value[0]);break;case"mana_regen":"infused_raindrop"==i&&(t+=parseFloat(n.value[0]))}}}return t},a.getManaRegenPercent=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"bonus_mana_regen":case"mana_regen":case"bonus_mana_regen_pct":"infused_raindrop"!=i&&(t+=parseFloat(n.value[0]))}}}return t/100},a.getManaRegenBloodstone=function(){for(var e=0;e<a.items().length;e++){var t=a.items()[e].item;if(a.items()[e].enabled()&&t.indexOf("bloodstone")!=-1)return parseInt(a.items()[e].size)}return 0},a.getArmor=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"bonus_armor":(!r||"medallion_of_courage"!=i&&"solar_crest"!=i)&&(t+=parseInt(m.value[0]));break;case"unholy_bonus_armor":r&&"armlet"==i&&(t+=parseInt(m.value[0]))}}}return t},a.getArmorAura=function(t){for(var s=0,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item,m=a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var u=0;u<e["item_"+n].attributes.length;u++){var o=e["item_"+n].attributes[u];if(!i.find(function(e){return o.name==e.name}))switch(o.name){case"bonus_aoe_armor":m&&i.push({name:o.name,value:parseInt(o.value[0])});break;case"aura_positive_armor":i.push({name:o.name,value:parseInt(o.value[0])});break;case"aura_bonus_armor":m&&i.push({name:o.name,value:parseInt(o.value[0])});break;case"armor_aura":i.push({name:o.name,value:parseInt(o.value[0])});break;case"heal_bonus_armor":m&&i.push({name:o.name,value:parseInt(o.value[0])})}}}return i.find(function(e){return"heal_bonus_armor"==e.name})&&(i=i.filter(function(e){return"bonus_aoe_armor"!==e.name})),i.find(function(e){return"armor_aura"==e.name})&&(i=i.filter(function(e){return"aura_bonus_armor"!==e.name})),s=i.reduce(function(e,t){return e+=t.value},0),{value:s,attributes:i}},a.getArmorReduction=function(t){for(var s=0,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item,m=a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var u=0;u<e["item_"+n].attributes.length;u++){var o=e["item_"+n].attributes[u];if(!(i.indexOf(o.name)>-1||i.indexOf(n+"_"+o.name)>-1))switch(o.name){case"armor_reduction":(m||"medallion_of_courage"!=n&&"solar_crest"!=n)&&(s+=parseInt(o.value[0]),i.push(n+"_"+o.name));break;case"aura_negative_armor":s+=parseInt(o.value[0]),i.push(o.name);break;case"corruption_armor":s+=parseInt(o.value[0]),i.push(o.name)}}}return{value:s,excludeList:i}},a.getEvasion=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"bonus_evasion":(!r||"butterfly"!=i&&"solar_crest"!=i)&&(t*=1-parseInt(m.value[0])/100)}}}return t},a.getMovementSpeedFlat=function(){for(var t=0,s=!1,i=!1,r=!1,n=["boots","phase_boots","arcane_boots","travel_boots","power_treads","tranquil_boots","guardian_greaves"],m=0;m<a.items().length;m++){var u=a.items()[m].item,o=a.activeItems.indexOf(a.items()[m])>=0;if(a.items()[m].enabled())for(var l=0;l<e["item_"+u].attributes.length;l++){var c=e["item_"+u].attributes[l];switch(c.name){case"bonus_movement_speed":!s&&n.indexOf(u)>=0?("tranquil_boots"!=u||"tranquil_boots"==u&&!o)&&(t+=parseInt(c.value[0]),s=!0):"cyclone"==u&&(t+=parseInt(c.value[0]),i=!0);break;case"broken_movement_speed":!s&&n.indexOf(u)>=0&&"tranquil_boots"==u&&o&&(t+=parseInt(c.value[0]),s=!0);break;case"bonus_movement":!s&&n.indexOf(u)>=0&&(t+=parseInt(c.value[0]),s=!0);break;case"movement_speed":r||"wind_lace"!=u||(t+=parseInt(c.value[0]),r=!0)}}}return t},a.getMovementSpeedPercent=function(t){for(var s=0,i=t||[],r=!1,n=!1,m=!1,u=!1,o=!1,l=!1,c=!1,v=["manta","yasha","sange_and_yasha"],_=0;_<a.items().length;_++){var b=a.items()[_].item,f=a.activeItems.indexOf(a.items()[_])>=0;if(a.items()[_].enabled())for(var d=0;d<e["item_"+b].attributes.length;d++){var p=e["item_"+b].attributes[d];if(!(i.indexOf(p.name)>-1))switch(p.name){case"movement_speed_percent_bonus":!r&&v.indexOf(b)>=0&&(s+=parseInt(p.value[0]),r=!0);break;case"bonus_aura_movement_speed_pct":n||"ancient_janggo"!=b||(s+=parseInt(p.value[0]),n=!0,i.push(p.name));break;case"phase_movement_speed":f&&!u&&(s+=parseInt(p.value[0]),u=!0);break;case"bonus_movement_speed_pct":f&&!m&&"ancient_janggo"==b&&(s+=parseInt(p.value[0]),m=!0,i.push(p.name));break;case"windwalk_movement_speed":!f||o||"invis_sword"!=b&&"silver_edge"!=b||(s+=parseInt(p.value[0]),o=!0);break;case"berserk_bonus_movement_speed":f&&!c&&"mask_of_madness"==b&&(s+=parseInt(p.value[0]),c=!0);break;case"bonus_movement_speed":r||"manta"!=b?"smoke_of_deceit"==b&&f&&(s+=parseInt(p.value[0])):(s+=parseInt(p.value[0]),r=!0);break;case"bonus_move_speed":f&&!l&&"butterfly"==b&&(s+=parseInt(p.value[0]),l=!0)}}}return{value:s/100,excludeList:i}},a.getMovementSpeedPercentReduction=function(t){for(var s=0,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item,m=a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var u=0;u<e["item_"+n].attributes.length;u++){var o=e["item_"+n].attributes[u];if(!(i.indexOf(o.name)>-1))switch(o.name){case"movespeed":"dust"==n&&m&&(s+=parseInt(o.value[0]));case"blast_movement_speed":"shivas_guard"==n&&m&&(s+=parseInt(o.value[0]),i.push(o.name));case"cold_movement_speed":"skadi"==n&&(s+=parseInt(o.value[0]));break;case"maim_movement_speed":a.items()[r].debuff&&"maim"==a.items()[r].debuff&&(s+=parseInt(o.value[0]),i.push(o.name))}}}return{value:s/100,excludeList:i}},a.getBonusDamage=function(){for(var t=0,s={},i=0;i<a.items().length;i++){var r=a.items()[i].item,n=a.activeItems.indexOf(a.items()[i])>=0;if(a.items()[i].enabled())for(var m=0;m<e["item_"+r].attributes.length;m++){var u=e["item_"+r].attributes[m];switch(u.name){case"bonus_damage":t+=parseInt(u.value[0]),void 0==s[r]?s[r]={damage:parseInt(u.value[0]),damageType:"physical",count:1,displayname:e["item_"+r].displayname}:s[r].count+=1;break;case"unholy_bonus_damage":n&&(t+=parseInt(u.value[0]),void 0==s[r+"_active"]?s[r+"_active"]={damage:parseInt(u.value[0]),damageType:"physical",count:1,displayname:e["item_"+r].displayname+" Unholy Strength"}:s[r].count+=1)}}}return{sources:s,total:t}},a.getBonusDamagePercent=function(t){t=t||{sources:{},total:0};for(var s=t.total||0,i=t.sources||{},r=0;r<a.items().length;r++){var n=a.items()[r].item;a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var m=0;m<e["item_"+n].attributes.length;m++){var u=e["item_"+n].attributes[m];switch(u.name){case"damage_aura":void 0==i[n]&&(s+=parseInt(u.value[0])/100,i[n]={damage:parseInt(u.value[0])/100,damageType:"physical",count:1,displayname:e["item_"+n].displayname})}}}return{sources:i,total:s}},a.getAttackSpeed=function(t){for(var s=0,i=!1,r=t||[],n=0;n<a.items().length;n++){var m=a.items()[n].item,u=a.activeItems.indexOf(a.items()[n])>=0;if(a.items()[n].enabled())for(var o=0;o<e["item_"+m].attributes.length;o++){var l=e["item_"+m].attributes[o];if(!(r.indexOf(l.name)>-1))switch(l.name){case"bonus_attack_speed":"power_treads"==m?i||(s+=parseInt(l.value[0]),i=!0):"moon_shard"==m?u||(s+=parseInt(l.value[0])):"hurricane_pike"==m?u&&(s+=parseInt(l.value[0])):s+=parseInt(l.value[0]);break;case"consumed_bonus":"moon_shard"==m&&u&&(s+=parseInt(l.value[0]));break;case"bonus_speed":s+=parseInt(l.value[0]);break;case"aura_attack_speed":"shivas_guard"!=m&&(s+=parseInt(l.value[0]));break;case"bonus_aura_attack_speed_pct":s+=parseInt(l.value[0]),r.push(l.name);break;case"bonus_attack_speed_pct":u&&(s+=parseInt(l.value[0]),r.push(l.name));break;case"unholy_bonus_attack_speed":u&&(s+=parseInt(l.value[0]));break;case"berserk_bonus_attack_speed":u&&(s+=parseInt(l.value[0]))}}}return{value:s,excludeList:r}},a.getAttackSpeedReduction=function(t){for(var s=0,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item;a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var m=0;m<e["item_"+n].attributes.length;m++){var u=e["item_"+n].attributes[m];if(!(i.indexOf(u.name)>-1))switch(u.name){case"aura_attack_speed":"shivas_guard"==n&&(s+=parseInt(u.value[0]),i.push(u.name));break;case"cold_attack_speed":"skadi"==n&&(s+=parseInt(u.value[0]),i.push(u.name));break;case"maim_attack_speed":a.items()[r].debuff&&"maim"==a.items()[r].debuff&&(s+=parseInt(u.value[0]),i.push(u.name))}}}return{value:s,excludeList:i}},a.getLifesteal=function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"lifesteal_percent":if("satanic"!=i)return parseInt(m.value[0]);if(!r)return parseInt(m.value[0]);break;case"unholy_lifesteal_percent":if(r)return parseInt(m.value[0])}}}return t},a.getLifestealAura=function(t){for(var s=0,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item;a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var m=0;m<e["item_"+n].attributes.length;m++){var u=e["item_"+n].attributes[m];if(!(i.indexOf(u.name)>-1))switch(u.name){case"vampiric_aura":s+=parseInt(u.value[0]),i.push(u.name)}}}return{value:s,excludeList:i}},a.getMagicResist=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"bonus_magical_armor":t*=1-parseInt(n.value[0])/100;break;case"bonus_spell_resist":t*=1-parseInt(n.value[0])/100;break;case"magic_resistance":t*=1-parseInt(n.value[0])/100}}}return t},a.getMagicResistReductionSelf=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled()&&r)for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"extra_spell_damage_percent":case"ethereal_damage_bonus":return 1-parseInt(m.value[0])/100}}}return t},a.getMagicResistReduction=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled()&&r)for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"ethereal_damage_bonus":a.isEthereal()||(t*=1-parseInt(m.value[0])/100);case"resist_debuff":t*=1-parseInt(m.value[0])/100}}}return t},a.getVisionRangeNight=ko.computed(function(){for(var t=0,s=0;s<a.items().length;s++){var i=a.items()[s].item,r=a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var n=0;n<e["item_"+i].attributes.length;n++){var m=e["item_"+i].attributes[n];switch(m.name){case"bonus_night_vision":"moon_shard"==i&&r||(t+=parseInt(m.value[0]))}}}return t}),a.getAttackRange=function(t,s){for(var i=0,r=s||[],n=0;n<a.items().length;n++){var m=a.items()[n].item;a.activeItems.indexOf(a.items()[n])>=0;if(a.items()[n].enabled())for(var u=0;u<e["item_"+m].attributes.length;u++){var o=e["item_"+m].attributes[u];if(!r.find(function(e){return o.name==e.name}))switch(o.name){case"base_attack_range":"DOTA_UNIT_CAP_RANGED_ATTACK"==t&&r.push({name:o.name,value:parseInt(o.value[0])})}}}return i=r.reduce(function(e,t){return e+=t.value},0),{value:i,attributes:r}},a.getMissChance=function(t){for(var s=1,i=t||[],r=0;r<a.items().length;r++){var n=a.items()[r].item,m=a.activeItems.indexOf(a.items()[r])>=0;if(a.items()[r].enabled())for(var u=0;u<e["item_"+n].attributes.length;u++){var o=e["item_"+n].attributes[u];if(!(i.indexOf(o.name)>-1))switch(o.name){case"miss_chance":"solar_crest"===n&&m&&(s*=1-parseInt(o.value[0])/100,i.push(o.name));break;case"blind_pct":s*=1-parseInt(o.value[0])/100,i.push(o.name)}}}return{value:s,excludeList:i}},a.getBaseDamageReductionPct=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"backstab_reduction":a.items()[s].debuff&&"shadow_walk"==a.items()[s].debuff&&(t*=1+parseInt(n.value[0])/100)}}}return t},a.getBonusDamageReductionPct=function(){for(var t=1,s=0;s<a.items().length;s++){var i=a.items()[s].item;a.activeItems.indexOf(a.items()[s])>=0;if(a.items()[s].enabled())for(var r=0;r<e["item_"+i].attributes.length;r++){var n=e["item_"+i].attributes[r];switch(n.name){case"backstab_reduction":a.items()[s].debuff&&"shadow_walk"==a.items()[s].debuff&&(t*=1+parseInt(n.value[0])/100)}}}return t},a.itemOptions=ko.observableArray(itemOptionsArray.items),a.itemBuffOptions=ko.observableArray(itemBuffOptions.items),a.selectedItemBuff=ko.observable("assault"),a.itemDebuffOptions=ko.observableArray(itemDebuffOptions.items),a.selectedItemDebuff=ko.observable("assault"),a};InventoryViewModel.prototype=Object.create(BasicInventoryViewModel.prototype),InventoryViewModel.prototype.constructor=InventoryViewModel,module.exports=InventoryViewModel;
},{"../herocalc_knockout":19,"./BasicInventoryViewModel":21,"./itemBuffOptions":24,"./itemDebuffOptions":25,"./itemOptionsArray":26,"./levelItems":28,"./stackableItems":29}],23:[function(require,module,exports){
var ItemInput=function(e,s,a,i){if(e["item_"+s].ItemAliases instanceof Array)var t=e["item_"+s].ItemAliases.join(" ");else var t=e["item_"+s].ItemAliases;this.value=ko.observable(s),this.debuff=ko.observable(i),this.debuff()?(this.value=ko.observable(s+"|"+i.id),this.name=ko.observable(a+" ("+i.name+")"),this.displayname=ko.observable(a+" ("+i.name+') <span style="display:none">;'+t+"</span>")):(this.value=ko.observable(s),this.name=ko.observable(a),this.displayname=ko.observable(a+' <span style="display:none">;'+t+"</span>"))};module.exports=ItemInput;
},{}],24:[function(require,module,exports){
var ItemInput=require("./ItemInput"),itemBuffs=["assault","ancient_janggo","headdress","mekansm","pipe","ring_of_aquila","vladmir","ring_of_basilius","buckler","solar_crest"],itemBuffOptions={},init=function(i){return itemBuffOptions.items=itemBuffs.map(function(t){return new ItemInput(i,t,i["item_"+t].displayname)}),itemBuffOptions.items};itemBuffOptions.init=init,module.exports=itemBuffOptions;
},{"./ItemInput":23}],25:[function(require,module,exports){
var ItemInput=require("./ItemInput"),itemDebuffs=[{item:"assault",debuff:null},{item:"shivas_guard",debuff:null},{item:"desolator",debuff:null},{item:"medallion_of_courage",debuff:null},{item:"radiance",debuff:null},{item:"sheepstick",debuff:null},{item:"veil_of_discord",debuff:null},{item:"solar_crest",debuff:null},{item:"silver_edge",debuff:{id:"shadow_walk",name:"Shadow Walk"}},{item:"silver_edge",debuff:{id:"maim",name:"Lesser Maim"}}],itemDebuffOptions={},init=function(e){return itemDebuffOptions.items=itemDebuffs.map(function(i){return new ItemInput(e,i.item,e["item_"+i.item].displayname,i.debuff)}),itemDebuffOptions.items};itemDebuffOptions.init=init,module.exports=itemDebuffOptions;
},{"./ItemInput":23}],26:[function(require,module,exports){
var validItems=require("./validItems"),ItemInput=require("./ItemInput"),itemOptionsArray={},init=function(t){itemOptionsArray.items=[];for(var i=0;i<validItems.length;i++)itemOptionsArray.items.push(new ItemInput(t,validItems[i],t["item_"+validItems[i]].displayname));return itemOptionsArray.items};itemOptionsArray.init=init,module.exports=itemOptionsArray;
},{"./ItemInput":23,"./validItems":30}],27:[function(require,module,exports){
module.exports=["solar_crest","heart","smoke_of_deceit","dust","ghost","tranquil_boots","phase_boots","power_treads","buckler","medallion_of_courage","ancient_janggo","mekansm","pipe","veil_of_discord","rod_of_atos","orchid","sheepstick","armlet","invis_sword","ethereal_blade","shivas_guard","manta","mask_of_madness","diffusal_blade","mjollnir","satanic","ring_of_basilius","ring_of_aquila","butterfly","moon_shard","silver_edge","bloodthorn","hurricane_pike"];
},{}],28:[function(require,module,exports){
module.exports=["necronomicon","dagon","diffusal_blade","travel_boots"];
},{}],29:[function(require,module,exports){
module.exports=["clarity","flask","dust","ward_observer","ward_sentry","tango","tpscroll","smoke_of_deceit"];
},{}],30:[function(require,module,exports){
module.exports=["abyssal_blade","ultimate_scepter","courier","arcane_boots","armlet","assault","boots_of_elves","bfury","belt_of_strength","black_king_bar","blade_mail","blade_of_alacrity","blades_of_attack","blink","bloodstone","boots","travel_boots","bottle","bracer","broadsword","buckler","butterfly","chainmail","circlet","clarity","claymore","cloak","lesser_crit","greater_crit","dagon","demon_edge","desolator","diffusal_blade","rapier","ancient_janggo","dust","eagle","energy_booster","ethereal_blade","cyclone","skadi","flying_courier","force_staff","gauntlets","gem","ghost","gloves","hand_of_midas","headdress","flask","heart","heavens_halberd","helm_of_iron_will","helm_of_the_dominator","hood_of_defiance","hyperstone","branches","javelin","sphere","maelstrom","magic_stick","magic_wand","manta","mantle","mask_of_madness","medallion_of_courage","mekansm","mithril_hammer","mjollnir","monkey_king_bar","lifesteal","mystic_staff","necronomicon","null_talisman","oblivion_staff","ward_observer","ogre_axe","orb_of_venom","orchid","pers","phase_boots","pipe","platemail","point_booster","poor_mans_shield","power_treads","quarterstaff","quelling_blade","radiance","reaver","refresher","ring_of_aquila","ring_of_basilius","ring_of_health","ring_of_protection","ring_of_regen","robe","rod_of_atos","relic","sobi_mask","sange","sange_and_yasha","satanic","sheepstick","ward_sentry","shadow_amulet","invis_sword","shivas_guard","basher","slippers","smoke_of_deceit","soul_booster","soul_ring","staff_of_wizardry","stout_shield","talisman_of_evasion","tango","tpscroll","tranquil_boots","ultimate_orb","urn_of_shadows","vanguard","veil_of_discord","vitality_booster","vladmir","void_stone","wraith_band","yasha","crimson_guard","enchanted_mango","lotus_orb","glimmer_cape","guardian_greaves","moon_shard","silver_edge","solar_crest","octarine_core","aether_lens","faerie_fire","iron_talon","dragon_lance","echo_sabre","infused_raindrop","blight_stone","wind_lace","tome_of_knowledge","bloodthorn","hurricane_pike"];
},{}],31:[function(require,module,exports){
"use strict";var core={};core.InventoryViewModel=require("./inventory/InventoryViewModel"),core.AbilityModel=require("./AbilityModel"),core.BuffViewModel=require("./BuffViewModel"),core.HeroModel=require("./hero/HeroModel"),core.CloneModel=require("./hero/CloneModel"),core.UnitModel=require("./hero/UnitModel"),core.IllusionModel=require("./hero/IllusionModel"),core.Data=require("./data/main"),core.Util=require("./util/main"),core.init=function(e,r,o,i){core.Data.init(e,r,o,function(){core.HeroOptions=require("./hero/heroOptionsArray").init(core.Data.heroData),core.BuffOptions=require("./buffs/buffOptionsArray").init(core.Data.heroData),core.DebuffOptions=require("./buffs/debuffOptionsArray").init(core.Data.heroData),core.ItemOptions=require("./inventory/itemOptionsArray").init(core.Data.itemData),core.ItemBuffOptions=require("./inventory/itemBuffOptions").init(core.Data.itemData),core.ItemDebuffOptions=require("./inventory/itemDebuffOptions").init(core.Data.itemData),i()})},module.exports=core;
},{"./AbilityModel":1,"./BuffViewModel":2,"./buffs/buffOptionsArray":4,"./buffs/debuffOptionsArray":5,"./data/main":6,"./hero/CloneModel":7,"./hero/HeroModel":10,"./hero/IllusionModel":12,"./hero/UnitModel":13,"./hero/heroOptionsArray":15,"./inventory/InventoryViewModel":22,"./inventory/itemBuffOptions":24,"./inventory/itemDebuffOptions":25,"./inventory/itemOptionsArray":26,"./util/main":36}],32:[function(require,module,exports){
var extend=function(e){e=e||{};for(var r=1;r<arguments.length;r++){var t=arguments[r];if(t)for(var n in t)t.hasOwnProperty(n)&&("object"==typeof t[n]?e[n]=extend(e[n],t[n]):e[n]=t[n])}return e};module.exports=extend;
},{}],33:[function(require,module,exports){
var findWhere=function(r,e){r:for(var n=0;n<r.length;n++){for(var f in e)if(r[n][f]!=e[f])continue r;return r[n]}};module.exports=findWhere;
},{}],34:[function(require,module,exports){
"use strict";var getJSON=function(e,t,s){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){if(n.status>=200&&n.status<400){var e=JSON.parse(n.responseText);t(e)}else s()},n.onerror=function(){s()},n.send()};module.exports=getJSON;
},{}],35:[function(require,module,exports){
var isEmpty=function(t){return 0===Object.keys(t).length&&t.constructor===Object};module.exports=isEmpty;
},{}],36:[function(require,module,exports){
"use strict";var util={};util.extend=require("./extend"),util.findWhere=require("./findWhere"),util.getJSON=require("./getJSON"),util.union=require("./union"),util.uniqueId=require("./uniqueId"),util.uniques=require("./uniques"),module.exports=util;
},{"./extend":32,"./findWhere":33,"./getJSON":34,"./union":37,"./uniqueId":38,"./uniques":39}],37:[function(require,module,exports){
"use strict";var uniques=require("./uniques"),union=function(u,n){var e=u.concat(n);return uniques(e)};module.exports=union;
},{"./uniques":39}],38:[function(require,module,exports){
"use strict";var idCounter=0,uniqueId=function(u){var e=++idCounter+"";return u?u+e:e};module.exports=uniqueId;
},{}],39:[function(require,module,exports){
"use strict";var uniques=function(u){for(var e=[],n=0,r=u.length;n<r;n++)e.indexOf(u[n])===-1&&""!==u[n]&&e.push(u[n]);return e};module.exports=uniques;
},{}],40:[function(require,module,exports){
(function (global){
!function(e){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?e("undefined"!=typeof window?window.ko:"undefined"!=typeof global?global.ko:null,exports):"function"==typeof define&&define.amd?define(["knockout","exports"],e):e(ko,ko.mapping={})}(function(e,r){function t(e,r){for(var t={},n=e.length-1;n>=0;--n)t[e[n]]=e[n];for(var n=r.length-1;n>=0;--n)t[r[n]]=r[n];var a=[];for(var i in t)a.push(t[i]);return a}function n(e,a){var i;for(var o in a)if(a.hasOwnProperty(o)&&a[o])if(i=r.getType(e[o]),o&&e[o]&&"array"!==i&&"string"!==i)n(e[o],a[o]);else{var u="array"===r.getType(e[o])&&"array"===r.getType(a[o]);u?e[o]=t(e[o],a[o]):e[o]=a[o]}}function a(e,r){var t={};return n(t,e),n(t,r),t}function i(e,r){for(var t=a({},e),n=x.length-1;n>=0;n--){var i=x[n];t[i]&&(t[""]instanceof Object||(t[""]={}),t[""][i]=t[i],delete t[i])}return r&&(t.ignore=o(r.ignore,t.ignore),t.include=o(r.include,t.include),t.copy=o(r.copy,t.copy),t.observe=o(r.observe,t.observe)),t.ignore=o(t.ignore,J.ignore),t.include=o(t.include,J.include),t.copy=o(t.copy,J.copy),t.observe=o(t.observe,J.observe),t.mappedProperties=t.mappedProperties||{},t.copiedProperties=t.copiedProperties||{},t}function o(t,n){return"array"!==r.getType(t)&&(t="undefined"===r.getType(t)?[]:[t]),"array"!==r.getType(n)&&(n="undefined"===r.getType(n)?[]:[n]),e.utils.arrayGetDistinctValues(t.concat(n))}function u(r,t){var n=e.dependentObservable;e.dependentObservable=function(t,n,a){a=a||{},t&&"object"==typeof t&&(a=t);var i=a.deferEvaluation,o=!1,u=function(t){var n=e.dependentObservable;e.dependentObservable=k;var a=e.isWriteableObservable(t);e.dependentObservable=n;var i=k({read:function(){return o||(e.utils.arrayRemoveItem(r,t),o=!0),t.apply(t,arguments)},write:a&&function(e){return t(e)},deferEvaluation:!0});return w&&(i._wrapper=!0),i.__DO=t,i};a.deferEvaluation=!0;var s=new k(t,n,a);return i||(s=u(s),r.push(s)),s},e.dependentObservable.fn=k.fn,e.computed=e.dependentObservable;var a=t();return e.dependentObservable=n,e.computed=e.dependentObservable,a}function s(t,n,i,o,f,b,y){var g="array"===r.getType(e.utils.unwrapObservable(n));if(b=b||"",r.isMapped(t)){var w=e.utils.unwrapObservable(t)[m];i=a(w,i)}var k={data:n,parent:y||f},T=function(){return i[o]&&i[o].create instanceof Function},x=function(r){return u(O,function(){return e.utils.unwrapObservable(f)instanceof Array?i[o].create({data:r||k.data,parent:k.parent,skip:j}):i[o].create({data:r||k.data,parent:k.parent})})},I=function(){return i[o]&&i[o].update instanceof Function},J=function(r,t){var n={data:t||k.data,parent:k.parent,target:e.utils.unwrapObservable(r)};return e.isWriteableObservable(r)&&(n.observable=r),i[o].update(n)},E=h.get(n);if(E)return E;if(o=o||"",g){var P=[],S=!1,_=function(e){return e};i[o]&&i[o].key&&(_=i[o].key,S=!0),e.isObservable(t)||(t=e.observableArray([]),t.mappedRemove=function(e){var r="function"==typeof e?e:function(r){return r===_(e)};return t.remove(function(e){return r(_(e))})},t.mappedRemoveAll=function(r){var n=v(r,_);return t.remove(function(r){return e.utils.arrayIndexOf(n,_(r))!=-1})},t.mappedDestroy=function(e){var r="function"==typeof e?e:function(r){return r===_(e)};return t.destroy(function(e){return r(_(e))})},t.mappedDestroyAll=function(r){var n=v(r,_);return t.destroy(function(r){return e.utils.arrayIndexOf(n,_(r))!=-1})},t.mappedIndexOf=function(r){var n=v(t(),_),a=_(r);return e.utils.arrayIndexOf(n,a)},t.mappedGet=function(e){return t()[t.mappedIndexOf(e)]},t.mappedCreate=function(r){if(t.mappedIndexOf(r)!==-1)throw new Error("There already is an object with the key that you specified.");var n=T()?x(r):r;if(I()){var a=J(n,r);e.isWriteableObservable(n)?n(a):n=a}return t.push(n),n});var N=v(e.utils.unwrapObservable(t),_).sort(),W=v(n,_);S&&W.sort();var D,F,A=e.utils.compareArrays(N,W),M={},C=e.utils.unwrapObservable(n),R={},$=!0;for(D=0,F=C.length;D<F;D++){var G=_(C[D]);if(void 0===G||G instanceof Object){$=!1;break}R[G]=C[D]}var q=[],V=0;for(D=0,F=A.length;D<F;D++){var z,G=A[D],B=b+"["+D+"]";switch(G.status){case"added":var H=$?R[G.value]:l(e.utils.unwrapObservable(n),G.value,_);z=s(void 0,H,i,o,t,B,f),T()||(z=e.utils.unwrapObservable(z));var K=p(e.utils.unwrapObservable(n),H,M);z===j?V++:q[K-V]=z,M[K]=!0;break;case"retained":var H=$?R[G.value]:l(e.utils.unwrapObservable(n),G.value,_);z=l(t,G.value,_),s(z,H,i,o,t,B,f);var K=p(e.utils.unwrapObservable(n),H,M);q[K]=z,M[K]=!0;break;case"deleted":z=l(t,G.value,_)}P.push({event:G.status,item:z})}t(q),i[o]&&i[o].arrayChanged&&e.utils.arrayForEach(P,function(e){i[o].arrayChanged(e.event,e.item)})}else if(d(n)){if(t=e.utils.unwrapObservable(t),!t){if(T()){var L=x();return I()&&(L=J(L)),L}if(I())return J(L);t={}}if(I()&&(t=J(t)),h.save(n,t),I())return t;c(n,function(r){var a=b.length?b+"."+r:r;if(e.utils.arrayIndexOf(i.ignore,a)==-1){if(e.utils.arrayIndexOf(i.copy,a)!=-1)return void(t[r]=n[r]);if("object"!=typeof n[r]&&"array"!=typeof n[r]&&i.observe.length>0&&e.utils.arrayIndexOf(i.observe,a)==-1)return t[r]=n[r],void(i.copiedProperties[a]=!0);var o=h.get(n[r]),u=s(t[r],n[r],i,r,t,a,t),p=o||u;if(i.observe.length>0&&e.utils.arrayIndexOf(i.observe,a)==-1)return t[r]=p(),void(i.copiedProperties[a]=!0);e.isWriteableObservable(t[r])?(p=e.utils.unwrapObservable(p),t[r]()!==p&&t[r](p)):(p=void 0===t[r]?p:e.utils.unwrapObservable(p),t[r]=p),i.mappedProperties[a]=!0}})}else switch(r.getType(n)){case"function":I()?e.isWriteableObservable(n)?(n(J(n)),t=n):t=J(n):t=n;break;default:if(e.isWriteableObservable(t)){if(I()){var Q=J(t);return t(Q),Q}var Q=e.utils.unwrapObservable(n);return t(Q),Q}var U=T()||I();if(t=T()?x():e.observable(e.utils.unwrapObservable(n)),I()&&t(J(t)),U)return t}return t}function p(e,r,t){for(var n=0,a=e.length;n<a;n++)if(t[n]!==!0&&e[n]===r)return n;return null}function f(t,n){var a;return n&&(a=n(t)),"undefined"===r.getType(a)&&(a=t),e.utils.unwrapObservable(a)}function l(r,t,n){r=e.utils.unwrapObservable(r);for(var a=0,i=r.length;a<i;a++){var o=r[a];if(f(o,n)===t)return o}throw new Error("When calling ko.update*, the key '"+t+"' was not found!")}function v(r,t){return e.utils.arrayMap(e.utils.unwrapObservable(r),function(e){return t?f(e,t):e})}function c(e,t){if("array"===r.getType(e))for(var n=0;n<e.length;n++)t(n);else for(var a in e)t(a)}function d(e){var t=r.getType(e);return("object"===t||"array"===t)&&null!==e}function b(e,t,n){var a=e||"";return"array"===r.getType(t)?e&&(a+="["+n+"]"):(e&&(a+="."),a+=n),a}function y(){var r=[],t=[];this.save=function(n,a){var i=e.utils.arrayIndexOf(r,n);i>=0?t[i]=a:(r.push(n),t.push(a))},this.get=function(n){var a=e.utils.arrayIndexOf(r,n),i=a>=0?t[a]:void 0;return i}}function g(){var e={},r=function(r){var t;try{t=r}catch(e){t="$$$"}var n=e[t];return void 0===n&&(n=new y,e[t]=n),n};this.save=function(e,t){r(e).save(e,t)},this.get=function(e){return r(e).get(e)}}var O,h,w=!0,m="__ko_mapping__",k=e.dependentObservable,T=0,x=["create","update","key","arrayChanged"],j={},I={include:["_destroy"],ignore:[],copy:[],observe:[]},J=I;r.isMapped=function(r){var t=e.utils.unwrapObservable(r);return t&&t[m]},r.fromJS=function(e){if(0==arguments.length)throw new Error("When calling ko.fromJS, pass the object you want to convert.");try{T++||(O=[],h=new g);var r,t;2==arguments.length&&(arguments[1][m]?t=arguments[1]:r=arguments[1]),3==arguments.length&&(r=arguments[1],t=arguments[2]),t&&(r=a(r,t[m])),r=i(r);var n=s(t,e,r);if(t&&(n=t),!--T)for(;O.length;){var o=O.pop();o&&(o(),o.__DO.throttleEvaluation=o.throttleEvaluation)}return n[m]=a(n[m],r),n}catch(e){throw T=0,e}},r.fromJSON=function(t){var n=e.utils.parseJson(t);return arguments[0]=n,r.fromJS.apply(this,arguments)},r.updateFromJS=function(e){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},r.updateFromJSON=function(e){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},r.toJS=function(t,n){if(J||r.resetDefaultOptions(),0==arguments.length)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if("array"!==r.getType(J.ignore))throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if("array"!==r.getType(J.include))throw new Error("ko.mapping.defaultOptions().include should be an array.");if("array"!==r.getType(J.copy))throw new Error("ko.mapping.defaultOptions().copy should be an array.");return n=i(n,t[m]),r.visitModel(t,function(r){return e.utils.unwrapObservable(r)},n)},r.toJSON=function(t,n){var a=r.toJS(t,n);return e.utils.stringifyJson(a)},r.defaultOptions=function(){return arguments.length>0?void(J=arguments[0]):J},r.resetDefaultOptions=function(){J={include:I.include.slice(0),ignore:I.ignore.slice(0),copy:I.copy.slice(0)}},r.getType=function(e){if(e&&"object"==typeof e){if(e.constructor===Date)return"date";if(e.constructor===Array)return"array"}return typeof e},r.visitModel=function(t,n,a){a=a||{},a.visitedObjects=a.visitedObjects||new g;var o,u=e.utils.unwrapObservable(t);if(!d(u))return n(t,a.parentName);a=i(a,u[m]),n(t,a.parentName),o="array"===r.getType(u)?[]:{},a.visitedObjects.save(t,o);var s=a.parentName;return c(u,function(t){if(!a.ignore||e.utils.arrayIndexOf(a.ignore,t)==-1){var i=u[t];if(a.parentName=b(s,u,t),e.utils.arrayIndexOf(a.copy,t)!==-1||e.utils.arrayIndexOf(a.include,t)!==-1||!u[m]||!u[m].mappedProperties||u[m].mappedProperties[t]||!u[m].copiedProperties||u[m].copiedProperties[t]||"array"===r.getType(u)){switch(r.getType(e.utils.unwrapObservable(i))){case"object":case"array":case"undefined":var p=a.visitedObjects.get(i);o[t]="undefined"!==r.getType(p)?p:r.visitModel(i,n,a);break;default:o[t]=n(i,a.parentName)}}}}),o}});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],41:[function(require,module,exports){
(function (global){
!function(r){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?r("undefined"!=typeof window?window.ko:"undefined"!=typeof global?global.ko:null,exports):"function"==typeof define&&define.amd?define(["knockout","exports"],r):r(ko,ko.wrap={})}(function(r,n){function t(r){var n=typeof r;return"object"===n&&(r?r.constructor==Date?n="date":"[object Array]"==Object.prototype.toString.call(r)&&(n="array"):n="null"),n}function e(n){var t={};for(var e in n){var o=n[e];r.isComputed(o)||(t[e]=u(o))}return t}function o(r){var n=[];if(!r||0==r.length)return n;for(var t=0,e=r.length;t<e;++t)n.push(u(r[t]));return n}function u(n){var f=r.isObservable(n);if(f){var a=n();return u(a)}return"array"==t(n)?o(n):"object"==t(n)?e(n):n}function f(){v=[{obj:null,wrapped:null,lvl:""}]}function a(n,t){for(var e=0;e<v.length;++e)if(v[e].obj===n)return v[e].wrapped;var o={};for(var u in n){var f=n[u];v.push({obj:n,wrapped:o,lvl:l()+"/"+u}),o[u]=c(f,t),v.pop()}return t&&t[l()]&&(o=t[l()](o)),p()&&r.track(o),o}function i(n,t){var e=r.observableArray();if(!n||0==n.length)return e;for(var o=0,u=n.length;o<u;++o)e.push(c(n[o],t));return e}function l(){return v[v.length-1].lvl}function c(n,e){if("array"==t(n))return i(n,e);if("object"==t(n))return a(n,e);if(p()||"function"==typeof n)return n;var o=r.observable();return o(n),o}function p(){return null!=r.track}n.fromJS=function(r,n){return f(),c(r,n)},n.updateFromJS=function(n,t,e){return f(),n(r.utils.unwrapObservable(c(t,e)))},n.fromJSON=function(t,e){var o=r.utils.parseJson(t);return arguments[0]=o,n.fromJS.apply(this,e)},n.toJS=function(r){return u(r)},n.toJSON=function(t){var e=n.toJS(t);return r.utils.stringifyJson(e)};var v});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}]},{},[31])(31)
});


//# sourceMappingURL=herocalc.min.js.map